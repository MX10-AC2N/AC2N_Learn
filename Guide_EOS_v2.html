<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>EOS Mind Navigator ‚Äì Guide R√©gisseur Pro 2025</title>
  <meta name="description" content="Guide interactif EOS sous forme de carte mentale avec sous-cat√©gories et actions claires.">
  <style>
    :root{
      --bg:#0f1117; --card:#161822; --text:#e8eaed; --accent:#00d4ff;
      --blue:#0066ff; --green:#00ff88; --red:#ff3b30; --purple:#bb88ff;
      --orange:#ff9500; --gray:#555; --border:#333;
      --glass: rgba(255,255,255,0.03);
      --muted: rgba(255,255,255,0.12);
    }
    [data-theme="light"]{
      --bg:#f8f9fa; --card:#fff; --text:#222; --accent:#0066cc;
      --blue:#0044cc; --green:#008844; --red:#d93025; --purple:#8e44ad;
      --orange:#e67e22; --gray:#999; --border:#ddd; --glass: rgba(0,0,0,0.03); --muted: rgba(0,0,0,0.06);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:system-ui,-apple-system,'Segoe UI',Roboto,Helvetica,Arial,sans-serif;
      background:var(--bg); color:var(--text); min-height:100vh; line-height:1.5;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }
    header{
      position:sticky; top:0; z-index:1000; display:flex; align-items:center; justify-content:space-between;
      padding:12px 16px; gap:12px;
      background: linear-gradient(135deg, rgba(0,0,0,0.5), rgba(0,0,0,0.7));
      backdrop-filter: blur(6px);
      border-bottom:1px solid var(--border);
    }
    .logo{display:flex; align-items:center; gap:12px}
    .logo-icon{width:44px;height:44px;border-radius:10px;background:var(--card);display:grid;place-items:center;font-weight:900;color:var(--accent)}
    h1{font-size:18px;margin:0;color:var(--accent); font-weight:800}
    .controls{display:flex; gap:8px; align-items:center}

    button, .btn{
      background:var(--glass); color:var(--text); border:1px solid var(--border); padding:8px 10px; border-radius:8px; cursor:pointer;
      font-weight:600;
    }
    button.small{padding:6px 8px; font-size:13px}
    button[aria-pressed="true"]{outline:2px solid rgba(0,212,255,0.12); box-shadow:0 4px 8px rgba(0,212,255,0.06)}

    .container{max-width:1200px;margin:20px auto;padding:0 16px}
    .top-row{display:flex;gap:12px;align-items:center;flex-wrap:wrap;margin-bottom:18px}
    .search{
      flex:1; display:flex; gap:8px; align-items:center;
    }
    .search input{
      flex:1;padding:10px 12px;border-radius:10px;border:1px solid var(--border); background:var(--card); color:var(--text)
    }
    .view{display:none}
    .view.active{display:block}

    .title{text-align:center;font-size:22px;color:var(--accent);margin-bottom:16px}

    .grid{
      display:grid; gap:16px;
      grid-template-columns: repeat(auto-fill,minmax(120px,1fr));
    }

    .bubble{
      background:var(--card); border-radius:12px; padding:12px; display:flex; flex-direction:column; align-items:center; justify-content:center;
      gap:6px; cursor:pointer; border:1px solid var(--border); transition:transform .18s, box-shadow .18s, border-color .18s;
    }
    .bubble:hover{transform:translateY(-6px); border-color:var(--accent); box-shadow:0 10px 30px rgba(0,0,0,0.45)}
    .bubble .label{font-weight:700; text-align:center}
    .bubble .count{font-size:13px;background:var(--muted);color:var(--text);padding:4px 8px;border-radius:999px}

    .card-list{display:grid; gap:12px; grid-template-columns: repeat(auto-fill,minmax(320px,1fr))}
    .command-card{
      background:var(--card); padding:14px; border-radius:12px; border:1px solid var(--border);
      transition:transform .14s, box-shadow .14s, border-color .14s; position:relative;
    }
    .command-card:hover{transform:translateY(-4px); border-color:var(--accent); box-shadow:0 8px 30px rgba(0,0,0,0.45)}
    .action-text{font-weight:700; color:var(--accent); margin-bottom:8px}
    .cmd-syntax{font-family:monospace; font-size:13px; background:var(--muted); padding:8px;border-radius:8px;color:var(--text); white-space:pre-wrap}
    .console-keys{display:flex; flex-wrap:wrap; gap:6px}
    .eos-key{
      display:grid; place-items:center; min-width:44px; height:30px; border-radius:6px; padding:0 6px; font-weight:700; font-size:12px;
      color:#fff; background:linear-gradient(145deg,#333,#222)
    }
    .eos-key.blue{background:linear-gradient(145deg,var(--blue),#0055aa)}
    .eos-key.red{background:linear-gradient(145deg,var(--red),#cc0000)}
    .eos-key.green{background:linear-gradient(145deg,var(--green),#00aa44); color:#000}
    .eos-key.orange{background:linear-gradient(145deg,var(--orange),#cc7a00); color:#000}
    .eos-key.purple{background:linear-gradient(145deg,var(--purple),#7b3fcf)}
    .eos-key.cyan{background:linear-gradient(145deg,#00cccc,#00aaaa)}
    .eos-key.enter{background:linear-gradient(145deg,#00cc00,#008800); color:#000; font-weight:900}

    .more-actions{position:absolute; top:12px; right:12px; background:none;border:none;color:var(--gray);font-size:18px;cursor:pointer}
    .actions-menu{position:absolute; top:40px; right:12px; display:none; flex-direction:column; min-width:160px; border-radius:10px; overflow:hidden; border:1px solid var(--border); background:var(--card); box-shadow:0 8px 30px rgba(0,0,0,0.4)}
    .actions-menu button{background:none;border:none;padding:10px 12px;text-align:left;color:var(--text);cursor:pointer}
    .actions-menu button:hover{background:var(--muted); color:var(--accent)}

    /* modal */
    .modal-backdrop{position:fixed; inset:0; background:rgba(0,0,0,0.6); display:flex; align-items:center; justify-content:center; z-index:2000}
    .modal{background:var(--card); padding:18px; border-radius:12px; max-width:820px; width:96%; border:2px solid var(--accent); color:var(--text)}
    .modal .header{display:flex;justify-content:space-between;align-items:center;gap:12px}
    .modal .body{margin-top:12px}
    .form-row{display:flex; gap:8px; align-items:flex-start; flex-wrap:wrap}
    .form-row input, .form-row textarea, .form-row select{flex:1; padding:8px;border-radius:8px;border:1px solid var(--border); background:var(--card); color:var(--text)}
    .edit-actions{display:flex; gap:8px; justify-content:flex-end; margin-top:12px}

    footer{margin:26px 0 60px; text-align:center; color:var(--gray)}
    @media(max-width:768px){ .grid{grid-template-columns:repeat(3,1fr)} .bubble{padding:8px} .card-list{grid-template-columns:1fr} }
  </style>
</head>
<body>
  <header>
    <div class="logo" aria-hidden="false">
      <div class="logo-icon" aria-hidden="true">EOS</div>
      <h1>EOS Mind Navigator</h1>
    </div>

    <div class="controls" role="toolbar" aria-label="Contr√¥les principaux">
      <div style="display:flex;gap:8px;align-items:center">
        <button id="themeToggle" class="small" aria-pressed="false" title="Basculer th√®me">üåô</button>
      </div>
      <div style="display:flex;gap:8px;align-items:center">
        <button id="exportBtn" class="small" title="Exporter la base localement">Export</button>
        <button id="importBtn" class="small" title="Importer un fichier JSON">Import</button>
      </div>
    </div>
  </header>

  <main class="container" id="app">
    <div class="top-row">
      <div class="search" role="search" aria-label="Recherche commandes">
        <input id="globalSearch" type="search" placeholder="Rechercher action, commande, cl√©, cat√©gorie..." aria-label="Rechercher"/>
        <button id="clearSearch" class="small" title="Effacer recherche">‚úï</button>
      </div>
      <div style="display:flex;gap:8px;align-items:center">
        <button id="resetDb" class="small" title="R√©initialiser la base √† son √©tat original">Reset DB</button>
        <button id="showAll" class="small" title="Voir toutes les commandes list√©es">Voir tout</button>
      </div>
    </div>

    <div id="categoriesView" class="view active" aria-live="polite">
      <h2 class="title">Cat√©gories</h2>
      <div class="grid" id="categoriesGrid" role="list"></div>
    </div>

    <div id="subcategoriesView" class="view" aria-live="polite">
      <button class="btn" id="backToCategories">‚Üê Cat√©gories</button>
      <h2 class="title" id="subcategoriesTitle"></h2>
      <div class="grid" id="subcategoriesGrid" role="list"></div>
    </div>

    <div id="commandsView" class="view" aria-live="polite">
      <button class="btn" id="backToSubcategories">‚Üê Sous-cat√©gories</button>
      <h2 class="title" id="commandsTitle"></h2>

      <div style="display:flex;gap:8px;align-items:center;margin:12px 0">
        <button class="btn" id="addCommandBtn">+ Ajouter commande</button>
        <div style="flex:1"></div>
        <div id="currentFilter" style="color:var(--gray); font-weight:600"></div>
      </div>

      <div class="card-list" id="commandsList" role="list"></div>
    </div>

    <footer>Version am√©lior√©e ¬∑ Sauvegarde locale via localStorage ¬∑ Accessible & mobile-friendly</footer>
  </main>

  <!-- Modal container (dynamic) -->
  <div id="modalRoot" aria-hidden="true"></div>

  <script>
    // ---------------------------
    // UTIL / DATA
    // ---------------------------
    // Full original dataset inserted into dbInitial as requested.
    const dbInitial = {
  "fundamentals": {
    "Base": [
      { "action": "Allumer/√©teindre la console", "cmd": "[ON] ‚Üí [OFF]", "keys": ["[ON]", "[OFF]"], "level": "basic" },
      { "action": "Cr√©er un nouveau show", "cmd": "Setup ‚Üí User ‚Üí New Show", "keys": ["Setup", "User", "New Show"], "level": "basic" },
      { "action": "Ouvrir un show existant", "cmd": "Setup ‚Üí User ‚Üí Open Show", "keys": ["Setup", "User", "Open Show"], "level": "basic" },
      { "action": "Sauvegarder le show", "cmd": "Update", "keys": ["Update"], "level": "basic" },
      { "action": "Sauvegarder (raccourci)", "cmd": "Ctrl+S", "keys": ["Ctrl+S"], "level": "basic" },
      { "action": "Annuler la derni√®re action", "cmd": "Undo", "keys": ["Ctrl+Z"], "level": "basic" },
      { "action": "R√©tablir", "cmd": "Redo", "keys": ["Ctrl+Y"], "level": "basic" },
      { "action": "Aide contextuelle", "cmd": "Help", "keys": ["Help"], "level": "basic" },
      { "action": "S√©lectionner le canal 1", "cmd": "Chan 1 Enter", "keys": ["Chan", "1", "Enter"], "level": "basic" },
      { "action": "S√©lectionner canaux 1, 5 et 8", "cmd": "Chan 1 + 5 + 8 Enter", "keys": ["Chan", "1", "+", "5", "+", "8", "Enter"], "level": "basic" },
      { "action": "S√©lectionner canaux 1 √† 10", "cmd": "Chan 1 Thru 10 Enter", "keys": ["Chan", "1", "Thru", "10", "Enter"], "level": "basic" },
      { "action": "S√©lectionner tous les canaux", "cmd": "Chan * Enter", "keys": ["Chan", "*", "Enter"], "level": "basic" },
      { "action": "S√©lectionner le groupe 1", "cmd": "Group 1 Enter", "keys": ["Group", "1", "Enter"], "level": "basic" },
      { "action": "Intensit√© du canal 1 √† 100%", "cmd": "Chan 1 @ 100 Enter", "keys": ["Chan", "1", "@", "100", "Enter"], "level": "basic" },
      { "action": "Intensit√© du canal 1 √† 100% (Full)", "cmd": "Chan 1 @ Full Enter", "keys": ["Chan", "1", "@", "Full", "Enter"], "level": "basic" },
      { "action": "Intensit√© du canal 1 √† 0%", "cmd": "Chan 1 @ 0 Enter", "keys": ["Chan", "1", "@", "0", "Enter"], "level": "basic" },
      { "action": "Intensit√© du canal 1 √† 0% (Blackout)", "cmd": "Chan 1 @ Out Enter", "keys": ["Chan", "1", "@", "Out", "Enter"], "level": "basic" },
      { "action": "Effacer tout", "cmd": "Clear Enter", "keys": ["Clear", "Enter"], "level": "basic" },
      { "action": "Flash la s√©lection", "cmd": "Highlight", "keys": ["Highlight"], "level": "basic" },
      { "action": "Isoler la s√©lection", "cmd": "Solo", "keys": ["Solo"], "level": "basic" },
      { "action": "Enregistrer le cue 1", "cmd": "Record Cue 1 Enter", "keys": ["Record", "Cue", "1", "Enter"], "level": "basic" },
      { "action": "Pr√©parer le cue 1", "cmd": "Cue 1 Enter", "keys": ["Cue", "1", "Enter"], "level": "basic" },
      { "action": "Lancer le cue suivant", "cmd": "Go", "keys": ["Go"], "level": "basic" },
      { "action": "Retour au cue pr√©c√©dent", "cmd": "Back", "keys": ["Back"], "level": "basic" },
      { "action": "Temps de fade de 3 secondes", "cmd": "Time 3 Enter", "keys": ["Time", "3", "Enter"], "level": "basic" },
      { "action": "Enregistrer le preset focus 1", "cmd": "Record Preset 1 Enter", "keys": ["Record", "Preset", "1", "Enter"], "level": "basic" },
      { "action": "Enregistrer la palette couleur 1", "cmd": "Record ColorPalette 1 Enter", "keys": ["Record", "ColorPalette", "1", "Enter"], "level": "basic" },
      { "action": "Lancer l'effet 1", "cmd": "Effect 1 Enter", "keys": ["Effect", "1", "Enter"], "level": "basic" },
      { "action": "Ex√©cuter la macro 1", "cmd": "Macro 1 Enter", "keys": ["Macro", "1", "Enter"], "level": "basic" },
      { "action": "Assigne le cue 10 au submaster 1", "cmd": "Sub 1 Cue 10 Enter", "keys": ["Sub", "1", "Cue", "10", "Enter"], "level": "basic" },
      { "action": "Acc√©der au menu patch", "cmd": "Setup ‚Üí Patch", "keys": ["Setup", "Patch"], "level": "basic" },
      { "action": "Ouvrir la Magic Sheet 1", "cmd": "Magic.Sheet 1 Enter", "keys": ["Magic.Sheet", "1", "Enter"], "level": "basic" },
      { "action": "Label personnalis√© pour canal 1", "cmd": "Chan 1 Label \"Nom\" Enter", "keys": ["Chan", "1", "Label", "\"Nom\"", "Enter"], "level": "basic" },
      { "action": "Voir les param√®tres du canal 1", "cmd": "Query Chan 1 Enter", "keys": ["Query", "Chan", "1", "Enter"], "level": "basic" },
      { "action": "Voir le contenu de la cue 1", "cmd": "Query Cue 1 Enter", "keys": ["Query", "Cue", "1", "Enter"], "level": "basic" },
      { "action": "Basculer en mode programmation", "cmd": "Blind", "keys": ["Blind"], "level": "basic" },
      { "action": "Retour au mode live", "cmd": "Live", "keys": ["Live"], "level": "basic" },
      { "action": "Grand Master √† 100%", "cmd": "Grand @ Full Enter", "keys": ["Grand", "@", "Full", "Enter"], "level": "basic" },
      { "action": "Grand Master √† 0%", "cmd": "Grand @ 0 Enter", "keys": ["Grand", "@", "0", "Enter"], "level": "basic" },
      { "action": "BLACKOUT TOTAL", "cmd": "Chan * @ 0 Enter", "keys": ["Chan", "*", "@", "0", "Enter"], "level": "basic" },
      { "action": "Rel√¢cher tout", "cmd": "Release Enter", "keys": ["Release", "Enter"], "level": "basic" },
      { "action": "Stop tous les effets", "cmd": "Effect * Stop Enter", "keys": ["Effect", "*", "Stop", "Enter"], "level": "basic" },
      { "action": "S√©lection par type de fixture", "cmd": "Select [Type]", "keys": ["Select", "[Type]"], "level": "advanced" },
      { "action": "D√©sactiver temporairement le tracking", "cmd": "Track Off", "keys": ["Track", "Off"], "level": "advanced" }
    ]
  },
  "selection": {
    "Filtres & S√©lection": [
      { "action": "S√©lectionner canaux impairs de 1 √† 20", "cmd": "Chan 1 Thru 20 Odd Enter", "keys": ["Chan", "1", "Thru", "20", "Odd", "Enter"], "level": "advanced" },
      { "action": "S√©lectionner canaux pairs de 1 √† 20", "cmd": "Chan 1 Thru 20 Even Enter", "keys": ["Chan", "1", "Thru", "20", "Even", "Enter"], "level": "advanced" },
      { "action": "Ajouter canal 5 √† la s√©lection", "cmd": "Chan 5 + Enter", "keys": ["Chan", "5", "+", "Enter"], "level": "basic" },
      { "action": "Retirer canal 5 de la s√©lection", "cmd": "Chan 5 - Enter", "keys": ["Chan", "5", "-", "Enter"], "level": "basic" },
      { "action": "Att√©nuer la s√©lection", "cmd": "Lowlight", "keys": ["Lowlight"], "level": "basic" },
      { "action": "Rappeler la derni√®re intensit√©", "cmd": "Rem Dim", "keys": ["Rem", "Dim"], "level": "advanced" },
      { "action": "Effacer le canal 1", "cmd": "Chan 1 Clear Enter", "keys": ["Chan", "1", "Clear", "Enter"], "level": "basic" },
      { "action": "Effacer l'intensit√© du canal 1", "cmd": "Chan 1 Intens Clear Enter", "keys": ["Chan", "1", "Intens", "Clear", "Enter"], "level": "basic" },
      { "action": "Effacer la couleur du canal 1", "cmd": "Chan 1 ColorPalette Clear Enter", "keys": ["Chan", "1", "ColorPalette", "Clear", "Enter"], "level": "basic" },
      { "action": "Effacer le beam du canal 1", "cmd": "Chan 1 BeamPalette Clear Enter", "keys": ["Chan", "1", "BeamPalette", "Clear", "Enter"], "level": "basic" },
      { "action": "Enregistrer le groupe 1", "cmd": "Record Group 1 Enter", "keys": ["Record", "Group", "1", "Enter"], "level": "basic" },
      { "action": "Label 'Wash' pour groupe 1", "cmd": "Group 1 Label \"Wash\" Enter", "keys": ["Group", "1", "Label", "\"Wash\"", "Enter"], "level": "advanced" },
      { "action": "Modifier le groupe 1", "cmd": "Update Group 1 Enter", "keys": ["Update", "Group", "1", "Enter"], "level": "advanced" },
      { "action": "Supprimer le groupe 1", "cmd": "Delete Group 1 Enter", "keys": ["Delete", "Group", "1", "Enter"], "level": "basic" },
      { "action": "Cr√©er une classe pour organisation", "cmd": "Chan 1 Thru 10 Class \"Wash\" Enter", "keys": ["Chan", "1", "Thru", "10", "Class", "\"Wash\"", "Enter"], "level": "advanced" },
      { "action": "Label automatique bas√© sur profil", "cmd": "Chan 1 Thru 10 Auto_Label Enter", "keys": ["Chan", "1", "Thru", "10", "Auto_Label", "Enter"], "level": "advanced" },
      { "action": "Label multiple avec num√©rotation", "cmd": "Chan 1 Thru 10 Label \"Wash #\" Enter", "keys": ["Chan", "1", "Thru", "10", "Label", "\"Wash #\"", "Enter"], "level": "advanced" },
      { "action": "Copier un label vers un autre canal", "cmd": "Copy Chan 1 Label Enter Chan 2 Enter", "keys": ["Copy", "Chan", "1", "Label", "Enter", "Chan", "2", "Enter"], "level": "advanced" },
      { "action": "D√©s√©lectionner les impairs", "cmd": "Chan 1 Thru 50 Odd - Enter", "keys": ["Chan", "1", "Thru", "50", "Odd", "-", "Enter"], "level": "advanced" },
      { "action": "S√©lectionner seulement les pairs", "cmd": "Chan 1 Thru 50 Even Enter", "keys": ["Chan", "1", "Thru", "50", "Even", "Enter"], "level": "advanced" },
      { "action": "Macro: Select Wash Only", "cmd": "Group 2 Enter", "keys": ["Group", "2", "Enter"], "level": "basic" },
      { "action": "S√©lectionner fixtures avec param√®tre Beam", "cmd": "Select Beam_Enter", "keys": ["Select", "Beam_Enter"], "level": "advanced" },
      { "action": "S√©lectionner uniquement les moving lights", "cmd": "Select Moving_Light", "keys": ["Select", "Moving_Light"], "level": "advanced" },
      { "action": "Num√©rotation √† 2 chiffres (01-10)", "cmd": "Chan 1 Thru 10 Label \"Wash ##\" Enter", "keys": ["Chan", "1", "Thru", "10", "Label", "\"Wash ##\"", "Enter"], "level": "advanced" }
    ]
  },
  "intensity": {
    "Contr√¥le intensit√©": [
      { "action": "Intensit√© du canal 1 √† 50%", "cmd": "Chan 1 @ 50 Enter", "keys": ["Chan", "1", "@", "50", "Enter"], "level": "basic" },
      { "action": "Intensit√© canal 1 √† 80% et canal 2 √† 50%", "cmd": "Chan 1 @ 80 Chan 2 @ 50 Enter", "keys": ["Chan", "1", "@", "80", "Chan", "2", "@", "50", "Enter"], "level": "basic" },
      { "action": "Intensit√© des canaux 1 √† 10 √† 75%", "cmd": "Chan 1 Thru 10 @ 75 Enter", "keys": ["Chan", "1", "Thru", "10", "@", "75", "Enter"], "level": "basic" },
      { "action": "Augmenter intensit√© du canal 1 de 10%", "cmd": "Chan 1 @ + 10 Enter", "keys": ["Chan", "1", "@", "+", "10", "Enter"], "level": "basic" },
      { "action": "Diminuer intensit√© du canal 1 de 10%", "cmd": "Chan 1 @ - 10 Enter", "keys": ["Chan", "1", "@", "-", "10", "Enter"], "level": "basic" },
      { "action": "Valeur fixe (ignore programmer)", "cmd": "Chan 1 @ 50 Park Enter", "keys": ["Chan", "1", "@", "50", "Park", "Enter"], "level": "expert" },
      { "action": "Combinaison d'intensit√©s diff√©renci√©es", "cmd": "Chan 1 @ 50% + Chan 2 @ Full", "keys": ["Chan", "1", "@", "50", "Chan", "2", "@", "Full"], "level": "basic" },
      { "action": "Diminuer intensit√© de 20% sur une plage", "cmd": "Chan 1 Thru 10 @ - 20 Enter", "keys": ["Chan", "1", "Thru", "10", "@", "-", "20", "Enter"], "level": "advanced" },
      { "action": "Augmenter intensit√© de 30% sur une plage", "cmd": "Chan 1 Thru 10 @ + 30 Enter", "keys": ["Chan", "1", "Thru", "10", "@", "+", "30", "Enter"], "level": "advanced" }
    ]
  },
  "cues": {
    "Cues & S√©quence": [
      { "action": "Enregistrer le prochain cue disponible", "cmd": "Record Enter", "keys": ["Record", "Enter"], "level": "basic" },
      { "action": "Enregistrer cue 1 avec label personnalis√©", "cmd": "Record Cue 1 Label [Label] Enter", "keys": ["Record", "Cue", "1", "Label", "[Label]", "Enter"], "level": "advanced" },
      { "action": "Enregistrer un cue d√©cimal 1.5", "cmd": "Record Cue 1.5 Enter", "keys": ["Record", "Cue", "1.5", "Enter"], "level": "advanced" },
      { "action": "Enregistrer les cues 10 √† 20", "cmd": "Record Cue 10 Thru 20 Enter", "keys": ["Record", "Cue", "10", "Thru", "20", "Enter"], "level": "advanced" },
      { "action": "Aller directement au cue 5", "cmd": "Goto Cue 5 Enter", "keys": ["Goto", "Cue", "5", "Enter"], "level": "basic" },
      { "action": "Arr√™ter la lecture", "cmd": "Stop", "keys": ["Stop"], "level": "basic" },
      { "action": "Assert le cue 1", "cmd": "Cue 1 Assert Enter", "keys": ["Cue", "1", "Assert", "Enter"], "level": "advanced" },
      { "action": "Mettre √† jour le cue actif", "cmd": "Update Enter", "keys": ["Update", "Enter"], "level": "basic" },
      { "action": "Mettre √† jour le cue 1 sp√©cifique", "cmd": "Update Cue 1 Enter", "keys": ["Update", "Cue", "1", "Enter"], "level": "basic" },
      { "action": "Fusionner dans le cue 1", "cmd": "Merge Cue 1 Enter", "keys": ["Merge", "Cue", "1", "Enter"], "level": "advanced" },
      { "action": "Copier le cue 1 vers le cue 2", "cmd": "Copy Cue 1 Enter Cue 2 Enter", "keys": ["Copy", "Cue", "1", "Enter", "Cue", "2", "Enter"], "level": "advanced" },
      { "action": "Copier une plage de cues", "cmd": "Copy Cue 1 Thru 10 Enter Cue 101 Enter", "keys": ["Copy", "Cue", "1", "Thru", "10", "Enter", "Cue", "101", "Enter"], "level": "advanced" },
      { "action": "D√©placer le cue 1 vers le cue 5", "cmd": "Move Cue 1 Enter Cue 5 Enter", "keys": ["Move", "Cue", "1", "Enter", "Cue", "5", "Enter"], "level": "advanced" },
      { "action": "Supprimer le cue 1", "cmd": "Delete Cue 1 Enter", "keys": ["Delete", "Cue", "1", "Enter"], "level": "basic" },
      { "action": "Lier le cue 1 √† un autre", "cmd": "Cue 1 Link Enter", "keys": ["Cue", "1", "Link", "Enter"], "level": "advanced" },
      { "action": "D√©lier le cue 1", "cmd": "Cue 1 Unlink Enter", "keys": ["Cue", "1", "Unlink", "Enter"], "level": "advanced" },
      { "action": "Cue 1 suit automatiquement apr√®s 3s", "cmd": "Cue 1 Follow 3 Enter", "keys": ["Cue", "1", "Follow", "3", "Enter"], "level": "advanced" },
      { "action": "Cue 1 en pause pendant 2s", "cmd": "Cue 1 Hang 2 Enter", "keys": ["Cue", "1", "Hang", "2", "Enter"], "level": "advanced" },
      { "action": "Enregistrer la part 1 du cue 1", "cmd": "Record Cue 1 Part 1 Enter", "keys": ["Record", "Cue", "1", "Part", "1", "Enter"], "level": "expert" },
      { "action": "Lancer la part 2 du cue 1", "cmd": "Cue 1 Part 2 Enter", "keys": ["Cue", "1", "Part", "2", "Enter"], "level": "expert" },
      { "action": "Lancer toutes les parts du cue 1", "cmd": "Cue 1 Part * Enter", "keys": ["Cue", "1", "Part", "*", "Enter"], "level": "expert" },
      { "action": "Bloquer la cue 1 (arr√™te tracking)", "cmd": "Cue 1 Block Enter", "keys": ["Cue", "1", "Block", "Enter"], "level": "advanced" },
      { "action": "Mode Cue Only pour la cue 1", "cmd": "Cue 1 Cue_Only Enter", "keys": ["Cue", "1", "Cue_Only", "Enter"], "level": "advanced" },
      { "action": "D√©clencher cue au timecode", "cmd": "Cue 1 Timecode 00:01:30:00 Enter", "keys": ["Cue", "1", "Timecode", "00:01:30:00", "Enter"], "level": "expert" },
      { "action": "Macro: Record Cue with Auto-Label", "cmd": "Record Cue 1 Label \"Nom\" Enter", "keys": ["Record", "Cue", "1", "Label", "\"Nom\"", "Enter"], "level": "advanced" },
      { "action": "Pas de tracking entre les cues", "cmd": "Cue Only Mode", "keys": ["Cue", "Cue_Only"], "level": "advanced" },
      { "action": "Force valeurs dans la cue", "cmd": "Assert Cue", "keys": ["Cue", "Assert"], "level": "advanced" },
      { "action": "Structure des cues recommand√©e", "cmd": "Cue List: Cue 0 preset ‚Üí Cues principales", "keys": ["Record", "Cue"], "level": "basic" },
      { "action": "Pr√©pare le cue 1 en √©crasant la s√©lection", "cmd": "Cue 1 Only Enter", "keys": ["Cue", "1", "Only", "Enter"], "level": "advanced" }
    ]
  },
  "timing": {
    "Timing & Fades": [
      { "action": "Fade up 3s, fade down 5s", "cmd": "Up_Time 3 Down_Time 5 Enter", "keys": ["Up_Time", "3", "Down_Time", "5", "Enter"], "level": "advanced" },
      { "action": "D√©lai de 2 secondes avant ex√©cution", "cmd": "Delay 2 Enter", "keys": ["Delay", "2", "Enter"], "level": "basic" },
      { "action": "Suit automatiquement apr√®s 5s", "cmd": "Follow 5 Enter", "keys": ["Follow", "5", "Enter"], "level": "advanced" },
      { "action": "Pause de 3 secondes", "cmd": "Hang 3 Enter", "keys": ["Hang", "3", "Enter"], "level": "advanced" },
      { "action": "D√©lai de 3s sur canal 1 √† 100%", "cmd": "Chan 1 Delay 3 @ 100 Enter", "keys": ["Chan", "1", "Delay", "3", "@", "100", "Enter"], "level": "advanced" },
      { "action": "Temps de 5s sur canal 1 √† 100%", "cmd": "Chan 1 Time 5 @ 100 Enter", "keys": ["Chan", "1", "Time", "5", "@", "100", "Enter"], "level": "advanced" },
      { "action": "D√©lai 2s + temps 3s sur canal 1", "cmd": "Chan 1 Delay 2 Time 3 @ 100 Enter", "keys": ["Chan", "1", "Delay", "2", "Time", "3", "@", "100", "Enter"], "level": "advanced" },
      { "action": "D√©lai up de 3s sur canal 1", "cmd": "Chan 1 Up_Delay 3 @ 100 Enter", "keys": ["Chan", "1", "Up_Delay", "3", "@", "100", "Enter"], "level": "expert" },
      { "action": "D√©lai down de 2s sur canal 1 √† 0%", "cmd": "Chan 1 Down_Delay 2 @ 0 Enter", "keys": ["Chan", "1", "Down_Delay", "2", "@", "0", "Enter"], "level": "expert" },
      { "action": "Follow time pour cue 1", "cmd": "Cue 1 Follow 3 Enter", "keys": ["Cue", "1", "Follow", "3", "Enter"], "level": "advanced" },
      { "action": "Hang time pour cue 1", "cmd": "Cue 1 Hang 2 Enter", "keys": ["Cue", "1", "Hang", "2", "Enter"], "level": "advanced" },
      { "action": "Arr√™te effet 1 avec fade de 3s", "cmd": "Effect 1 Stop Time 3 Enter", "keys": ["Effect", "1", "Stop", "Time", "3", "Enter"], "level": "advanced" },
      { "action": "Lie le Rate Master 1 au cue 1", "cmd": "Cue 1 Rate_Master 1 Enter", "keys": ["Cue", "1", "Rate_Master", "1", "Enter"], "level": "advanced" }
    ]
  },
  "tracking": {
    "Tracking": [
      { "action": "Mode tracking seulement", "cmd": "Track Only", "keys": ["Track", "Only"], "level": "advanced" },
      { "action": "Avance dans le tracking", "cmd": "Track Forward", "keys": ["Track", "Forward"], "level": "advanced" },
      { "action": "Bloque la cue 1 (r√©sout probl√®mes tracking)", "cmd": "Cue 1 Block Enter", "keys": ["Cue", "1", "Block", "Enter"], "level": "advanced" },
      { "action": "Bloque le canal 1 dans la cue 1", "cmd": "Cue 1 Chan 1 Block Enter", "keys": ["Cue", "1", "Chan", "1", "Block", "Enter"], "level": "advanced" },
      { "action": "D√©bloque le canal 1 dans la cue 1", "cmd": "Cue 1 Chan 1 Unblock Enter", "keys": ["Cue", "1", "Chan", "1", "Unblock", "Enter"], "level": "advanced" },
      { "action": "Mode Cue Only pour la cue 1", "cmd": "Cue 1 Cue_Only Enter", "keys": ["Cue", "1", "Cue_Only", "Enter"], "level": "advanced" },
      { "action": "Modification centralis√©e via palettes", "cmd": "PROGRAMMER AVEC PALETTES", "keys": ["Preset", "ColorPalette"], "level": "basic" },
      { "action": "√âconomie de programmation (valeurs persistent)", "cmd": "TRACKING: Les valeurs persistent", "keys": ["Track"], "level": "advanced" },
      { "action": "Tracking limit√© √† la Part 1", "cmd": "Track Only Part 1", "keys": ["Track", "Only", "Part", "1"], "level": "expert" }
    ]
  },
  "palettes": {
    "Focus et Couleur": [
      { "action": "Enregistrer la palette beam 1", "cmd": "Record BeamPalette 1 Enter", "keys": ["Record", "BeamPalette", "1", "Enter"], "level": "basic" },
      { "action": "Enregistrer la palette effet 1", "cmd": "Record FXPalette 1 Enter", "keys": ["Record", "FXPalette", "1", "Enter"], "level": "basic" },
      { "action": "Enregistrer la prochaine palette disponible", "cmd": "Record Preset Enter", "keys": ["Record", "Preset", "Enter"], "level": "basic" },
      { "action": "Enregistrer uniquement Pan/Tilt dans preset 1", "cmd": "Preset Pan Thru Tilt Record Preset 1 Enter", "keys": ["Preset", "Pan", "Thru", "Tilt", "Record", "Preset", "1", "Enter"], "level": "advanced" },
      { "action": "Enregistrer uniquement RGB dans palette couleur", "cmd": "Color Red Thru Blue Record ColorPalette 1 Enter", "keys": ["Color", "Red", "Thru", "Blue", "Record", "ColorPalette", "1", "Enter"], "level": "advanced" },
      { "action": "Enregistrer uniquement CMY dans palette couleur", "cmd": "Color Cyan Thru Yellow Record ColorPalette 1 Enter", "keys": ["Color", "Cyan", "Thru", "Yellow", "Record", "ColorPalette", "1", "Enter"], "level": "advanced" },
      { "action": "Enregistrer uniquement Zoom dans palette beam", "cmd": "Beam Zoom Record BeamPalette 1 Enter", "keys": ["Beam", "Zoom", "Record", "BeamPalette", "1", "Enter"], "level": "advanced" },
      { "action": "Enregistrer uniquement Iris dans palette beam", "cmd": "Beam Iris Record BeamPalette 1 Enter", "keys": ["Beam", "Iris", "Record", "BeamPalette", "1", "Enter"], "level": "advanced" },
      { "action": "Enregistrer uniquement Shutter dans palette beam", "cmd": "Beam Strobe Record BeamPalette 1 Enter", "keys": ["Beam", "Strobe", "Record", "BeamPalette", "1", "Enter"], "level": "advanced" },
      { "action": "Enregistrer uniquement Gobo dans palette beam", "cmd": "Beam Gobo_Select Record BeamPalette 1 Enter", "keys": ["Beam", "Gobo_Select", "Record", "BeamPalette", "1", "Enter"], "level": "advanced" },
      { "action": "Rappeller le preset focus 1 sur canal 1", "cmd": "Chan 1 Preset 1 Enter", "keys": ["Chan", "1", "Preset", "1", "Enter"], "level": "basic" },
      { "action": "Rappeller la palette couleur 1 sur canal 1", "cmd": "Chan 1 ColorPalette 1 Enter", "keys": ["Chan", "1", "ColorPalette", "1", "Enter"], "level": "basic" },
      { "action": "Rappeller la palette beam 1 sur canal 1", "cmd": "Chan 1 BeamPalette 1 Enter", "keys": ["Chan", "1", "BeamPalette", "1", "Enter"], "level": "basic" },
      { "action": "Rappeller la palette effet 1 sur canal 1", "cmd": "Chan 1 FXPalette 1 Enter", "keys": ["Chan", "1", "FXPalette", "1", "Enter"], "level": "basic" },
      { "action": "Rappeller le preset 1 sur la s√©lection", "cmd": "Preset 1 Enter", "keys": ["Preset", "1", "Enter"], "level": "basic" },
      { "action": "Mettre √† jour le preset 1", "cmd": "Update Preset 1 Enter", "keys": ["Update", "Preset", "1", "Enter"], "level": "advanced" },
      { "action": "Mettre √† jour la derni√®re palette", "cmd": "Update Enter", "keys": ["Update", "Enter"], "level": "basic" },
      { "action": "Fusionner dans le preset 1", "cmd": "Merge Preset 1 Enter", "keys": ["Merge", "Preset", "1", "Enter"], "level": "advanced" },
      { "action": "Retirer Pan/Tilt du preset 1", "cmd": "Preset Pan Thru Tilt Remove Preset 1 Enter", "keys": ["Preset", "Pan", "Thru", "Tilt", "Remove", "Preset", "1", "Enter"], "level": "expert" },
      { "action": "Copier le preset 1 vers le preset 2", "cmd": "Copy Preset 1 Enter Preset 2 Enter", "keys": ["Copy", "Preset", "1", "Enter", "Preset", "2", "Enter"], "level": "advanced" },
      { "action": "D√©placer le preset 1 vers le preset 5", "cmd": "Move Preset 1 Enter Preset 5 Enter", "keys": ["Move", "Preset", "1", "Enter", "Preset", "5", "Enter"], "level": "advanced" },
      { "action": "Supprimer le preset 1", "cmd": "Delete Preset 1 Enter", "keys": ["Delete", "Preset", "1", "Enter"], "level": "basic" },
      { "action": "Donne le label 'Centre' au preset 1", "cmd": "Preset 1 Label \"Centre\" Enter", "keys": ["Preset", "1", "Label", "\"Centre\"", "Enter"], "level": "advanced" },
      { "action": "Macro: Record prochaine palette Focus", "cmd": "Record Preset Enter", "keys": ["Record", "Preset", "Enter"], "level": "advanced" },
      { "action": "Macro: Record prochaine palette Couleur", "cmd": "Record ColorPalette Enter", "keys": ["Record", "ColorPalette", "Enter"], "level": "advanced" },
      { "action": "Macro: Record Focus XY seulement", "cmd": "Preset Pan Thru Tilt Record Preset 1 Enter", "keys": ["Preset", "Pan", "Thru", "Tilt", "Record", "Preset", "1", "Enter"], "level": "advanced" },
      { "action": "Macro: Record Couleur RGB seulement", "cmd": "Color Red Thru Blue Record ColorPalette 1 Enter", "keys": ["Color", "Red", "Thru", "Blue", "Record", "ColorPalette", "1", "Enter"], "level": "advanced" },
      { "action": "Macro: Record Beam Zoom seulement", "cmd": "Beam Zoom Record BeamPalette 1 Enter", "keys": ["Beam", "Zoom", "Record", "BeamPalette", "1", "Enter"], "level": "advanced" },
      { "action": "Macro: Update derni√®re palette utilis√©e", "cmd": "Update Enter", "keys": ["Update", "Enter"], "level": "basic" },
      { "action": "Macro: Update avec merge", "cmd": "Merge Preset 1 Enter", "keys": ["Merge", "Preset", "1", "Enter"], "level": "advanced" },
      { "action": "Rappeller le preset 1 en √©crasant position", "cmd": "Preset 1 Only Enter", "keys": ["Preset", "1", "Only", "Enter"], "level": "advanced" },
      { "action": "Force la palette couleur 1, ignore les autres", "cmd": "ColorPalette 1 Only Enter", "keys": ["ColorPalette", "1", "Only", "Enter"], "level": "advanced" },
      { "action": "Distribue la s√©lection en √©ventail sur l'axe Pan", "cmd": "Fan Pan Enter", "keys": ["Fan", "Pan", "Enter"], "level": "expert" }
    ]
  },
  "effects": {
    "Effets & Rate Masters": [
      { "action": "Effet absolu intensit√© sinuso√Ødal", "cmd": "Effect 1 Chan 1 Thru 10 Absolute_Param Intens Form Sine Size 50 Offset 50 Cycles 1 Rate 120 Enter", "keys": ["Effect", "1", "Chan", "1", "Thru", "10", "Absolute_Param", "Intens", "Form", "Sine", "Size", "50", "Offset", "50", "Cycles", "1", "Rate", "120", "Enter"], "level": "advanced" },
      { "action": "Effet relatif pan triangulaire", "cmd": "Effect 2 Chan 1 Thru 10 Relative_Param Pan Form Triangle Size 30 Phase 360 Rate 60 Enter", "keys": ["Effect", "2", "Chan", "1", "Thru", "10", "Relative_Param", "Pan", "Form", "Triangle", "Size", "30", "Phase", "360", "Rate", "60", "Enter"], "level": "advanced" },
      { "action": "Arr√™ter l'effet 1", "cmd": "Effect 1 Stop Enter", "keys": ["Effect", "1", "Stop", "Enter"], "level": "basic" },
      { "action": "Arr√™ter tous les effets", "cmd": "Effect * Stop Enter", "keys": ["Effect", "*", "Stop", "Enter"], "level": "basic" },
      { "action": "Rel√¢cher l'effet 1", "cmd": "Effect 1 Release Enter", "keys": ["Effect", "1", "Release", "Enter"], "level": "advanced" },
      { "action": "Supprimer l'effet 1", "cmd": "Effect 1 Delete Enter", "keys": ["Effect", "1", "Delete", "Enter"], "level": "advanced" },
      { "action": "Effacer l'effet 1", "cmd": "Effect 1 Clear Enter", "keys": ["Effect", "1", "Clear", "Enter"], "level": "advanced" },
      { "action": "Assigne le Rate Master 1 √† l'effet 1", "cmd": "Effect 1 Rate_Master 1 Enter", "keys": ["Effect", "1", "Rate_Master", "1", "Enter"], "level": "advanced" },
      { "action": "Contr√¥le vitesse Rate Master 1 √† 100%", "cmd": "Rate_Master 1 @ 100 Enter", "keys": ["Rate_Master", "1", "@", "100", "Enter"], "level": "advanced" },
      { "action": "Double vitesse Rate Master 1", "cmd": "Rate_Master 1 @ 200 Enter", "keys": ["Rate_Master", "1", "@", "200", "Enter"], "level": "advanced" },
      { "action": "Moiti√© vitesse Rate Master 1", "cmd": "Rate_Master 1 @ 50 Enter", "keys": ["Rate_Master", "1", "@", "50", "Enter"], "level": "advanced" },
      { "action": "Tap tempo pour Rate Master 1", "cmd": "Rate_Master 1 Tap Enter", "keys": ["Rate_Master", "1", "Tap", "Enter"], "level": "advanced" },
      { "action": "Arr√™ter effet 1 avec fade 2s et d√©lai 1s", "cmd": "Effect 1 Stop Time 2 Delay 1 Enter", "keys": ["Effect", "1", "Stop", "Time", "2", "Delay", "1", "Enter"], "level": "expert" },
      { "action": "Toggle Effect On/Off", "cmd": "Effect 1 Toggle Enter", "keys": ["Effect", "1", "Toggle", "Enter"], "level": "advanced" },
      { "action": "Stop plage d'effets", "cmd": "Effect 1 Thru 10 Stop Enter", "keys": ["Effect", "1", "Thru", "10", "Stop", "Enter"], "level": "advanced" },
      { "action": "Start All Effects", "cmd": "Effect 1 Enter\nEffect 2 Enter\nEffect 3 Enter", "keys": ["Effect", "1", "Effect", "2", "Effect", "3"], "level": "advanced" },
      { "action": "Sync Musical (1:2:0.5:4)", "cmd": "Rate_Master 1 @ 100 Enter\nRate_Master 2 @ 200 Enter\nRate_Master 3 @ 50 Enter\nRate_Master 4 @ 400 Enter", "keys": ["Rate_Master", "1", "@", "100", "Rate_Master", "2", "@", "200", "Rate_Master", "3", "@", "50", "Rate_Master", "4", "@", "400"], "level": "advanced" },
      { "action": "Reset All Rate Masters", "cmd": "Rate_Master 1 @ 100 Enter\nRate_Master 2 @ 100 Enter\nRate_Master 3 @ 100 Enter\nRate_Master 4 @ 100 Enter", "keys": ["Rate_Master", "1", "@", "100", "Rate_Master", "2", "@", "100", "Rate_Master", "3", "@", "100", "Rate_Master", "4", "@", "100"], "level": "advanced" },
      { "action": "Tap Tempo Universal", "cmd": "Rate_Master 1 Tap Enter\nRate_Master 2 Tap Enter\nRate_Master 3 Tap Enter\nRate_Master 4 Tap Enter", "keys": ["Rate_Master", "1", "Tap", "Rate_Master", "2", "Tap", "Rate_Master", "3", "Tap", "Rate_Master", "4", "Tap"], "level": "advanced" },
      { "action": "Bloque l'effet 1 sans arr√™ter les autres", "cmd": "Effect 1 Inhibit Enter", "keys": ["Effect", "1", "Inhibit", "Enter"], "level": "advanced" },
      { "action": "Types d'effets pour diff√©rents besoins", "cmd": "Absolute vs Relative Effects", "keys": ["Absolute_Param", "Relative_Param"], "level": "expert" }
    ]
  },
  "submasters": {
    "Submasters": [
      { "action": "Assigne les cues 10-15 au submaster 1", "cmd": "Sub 1 Cue 10 Thru 15 Enter", "keys": ["Sub", "1", "Cue", "10", "Thru", "15", "Enter"], "level": "advanced" },
      { "action": "Donne le label 'Wash' au submaster 1", "cmd": "Sub 1 Label \"Wash\" Enter", "keys": ["Sub", "1", "Label", "\"Wash\"", "Enter"], "level": "basic" },
      { "action": "Rel√¢cher le submaster 1", "cmd": "Sub 1 Release Enter", "keys": ["Sub", "1", "Release", "Enter"], "level": "basic" },
      { "action": "Contr√¥le vitesse Rate Master via sub fader", "cmd": "Rate_Master 1 @ 100 Enter", "keys": ["Rate_Master", "1", "@", "100", "Enter"], "level": "advanced" },
      { "action": "Tap tempo via sub bump button", "cmd": "Rate_Master 1 Tap Enter", "keys": ["Rate_Master", "1", "Tap", "Enter"], "level": "advanced" },
      { "action": "Release All Subs", "cmd": "Sub * Release Enter", "keys": ["Sub", "*", "Release", "Enter"], "level": "advanced" },
      { "action": "Boutons personnalis√©s sur subs", "cmd": "Sub Bumps personnalis√©s", "keys": ["Sub", "Bump", "Macro"], "level": "advanced" },
      { "action": "Contr√¥les manuels (Layers, effets, flash)", "cmd": "SUBMASTERS: Layers, effets, flash", "keys": ["Sub", "Record"], "level": "basic" },
      { "action": "Configuration UI pour contr√¥le vitesse", "cmd": "Sub avec effet li√© √† Rate Master", "keys": ["Sub", "Rate_Master"], "level": "advanced" },
      { "action": "Assignation flexible", "cmd": "Sub pour contr√¥ler Custom Faders", "keys": ["Sub", "Custom", "Fader"], "level": "advanced" }
    ]
  },
  "macros": {
    "Urgences": [
      { "action": "Ex√©cuter la macro 1", "cmd": "Macro 1 Enter", "keys": ["Macro", "1", "Enter"], "level": "basic" },
      { "action": "Macro: Arr√™ter tous les effets", "cmd": "Effect * Stop Enter", "keys": ["Effect", "*", "Stop", "Enter"], "level": "basic" },
      { "action": "Macro: Rel√¢cher tout", "cmd": "Release Enter", "keys": ["Release", "Enter"], "level": "basic" },
      { "action": "Macro: Effacer le programmer", "cmd": "Clear Enter", "keys": ["Clear", "Enter"], "level": "basic" },
      { "action": "Macro: Grand Master √† 0%", "cmd": "Grand @ 0 Enter", "keys": ["Grand", "@", "0", "Enter"], "level": "basic" },
      { "action": "Macro: BLACKOUT TOTAL", "cmd": "Chan * @ 0 Enter", "keys": ["Chan", "*", "@", "0", "Enter"], "level": "basic" },
      { "action": "Macro: Reset doux (Soft Reset)", "cmd": "Release Enter\nEffect * Stop Enter\nClear Enter\nGrand @ Full Enter", "keys": ["Release", "Effect", "*", "Stop", "Clear", "Grand", "@", "Full", "Enter"], "level": "advanced" },
      { "action": "Macro: PANIC MODE (Reset complet)", "cmd": "Release Enter\nEffect * Stop Enter\nClear Enter\nChan * @ 0 Enter\nGrand @ 0 Enter\n[D√©lai 2s]\nGrand @ Full Enter\nGoto Cue 1 Enter", "keys": ["Release", "Effect", "*", "Stop", "Clear", "Chan", "*", "@", "0", "Grand", "@", "0", "Grand", "@", "Full", "Goto", "Cue", "1"], "level": "expert" }
    ],
    "Record & Couleurs": [
      { "action": "Macro: Quick Record tous types", "cmd": "Record Preset Enter\nRecord ColorPalette Enter\nRecord BeamPalette Enter", "keys": ["Record", "Preset", "Record", "ColorPalette", "Record", "BeamPalette"], "level": "advanced" },
      { "action": "Macro: White Balance", "cmd": "Custom 1 @ 100 Custom 2 @ 100 Custom 3 @ 100 Enter", "keys": ["Custom", "1", "@", "100", "Custom", "2", "@", "100", "Custom", "3", "@", "100", "Enter"], "level": "advanced" },
      { "action": "Macro: Warm White", "cmd": "Custom 1 @ 100 Custom 2 @ 60 Custom 3 @ 20 Enter", "keys": ["Custom", "1", "@", "100", "Custom", "2", "@", "60", "Custom", "3", "@", "20", "Enter"], "level": "advanced" },
      { "action": "Macro: Cool White", "cmd": "Custom 1 @ 80 Custom 2 @ 90 Custom 3 @ 100 Enter", "keys": ["Custom", "1", "@", "80", "Custom", "2", "@", "90", "Custom", "3", "@", "100", "Enter"], "level": "advanced" },
      { "action": "Macro: Primary Red", "cmd": "Custom 1 @ 100 Custom 2 @ 0 Custom 3 @ 0 Enter", "keys": ["Custom", "1", "@", "100", "Custom", "2", "@", "0", "Custom", "3", "@", "0", "Enter"], "level": "advanced" },
      { "action": "Macro: Primary Green", "cmd": "Custom 1 @ 0 Custom 2 @ 100 Custom 3 @ 0 Enter", "keys": ["Custom", "1", "@", "0", "Custom", "2", "@", "100", "Custom", "3", "@", "0", "Enter"], "level": "advanced" },
      { "action": "Macro: Primary Blue", "cmd": "Custom 1 @ 0 Custom 2 @ 0 Custom 3 @ 100 Enter", "keys": ["Custom", "1", "@", "0", "Custom", "2", "@", "0", "Custom", "3", "@", "100", "Enter"], "level": "advanced" },
      { "action": "Macro: Amber", "cmd": "Custom 1 @ 100 Custom 2 @ 50 Custom 3 @ 0 Enter", "keys": ["Custom", "1", "@", "100", "Custom", "2", "@", "50", "Custom", "3", "@", "0", "Enter"], "level": "advanced" },
      { "action": "Macro: Cyan", "cmd": "Custom 1 @ 0 Custom 2 @ 100 Custom 3 @ 100 Enter", "keys": ["Custom", "1", "@", "0", "Custom", "2", "@", "100", "Custom", "3", "@", "100", "Enter"], "level": "advanced" },
      { "action": "Macro: Magenta", "cmd": "Custom 1 @ 100 Custom 2 @ 0 Custom 3 @ 100 Enter", "keys": ["Custom", "1", "@", "100", "Custom", "2", "@", "0", "Custom", "3", "@", "100", "Enter"], "level": "advanced" },
      { "action": "Macro: Yellow", "cmd": "Custom 1 @ 100 Custom 2 @ 100 Custom 3 @ 0 Enter", "keys": ["Custom", "1", "@", "100", "Custom", "2", "@", "100", "Custom", "3", "@", "0", "Enter"], "level": "advanced" },
      { "action": "Macro: Pink", "cmd": "Custom 1 @ 100 Custom 2 @ 40 Custom 3 @ 70 Enter", "keys": ["Custom", "1", "@", "100", "Custom", "2", "@", "40", "Custom", "3", "@", "70", "Enter"], "level": "advanced" },
      { "action": "Macro: Lavender", "cmd": "Custom 1 @ 80 Custom 2 @ 50 Custom 3 @ 100 Enter", "keys": ["Custom", "1", "@", "80", "Custom", "2", "@", "50", "Custom", "3", "@", "100", "Enter"], "level": "advanced" },
      { "action": "Macro: Deep Blue", "cmd": "Custom 1 @ 0 Custom 2 @ 20 Custom 3 @ 100 Enter", "keys": ["Custom", "1", "@", "0", "Custom", "2", "@", "20", "Custom", "3", "@", "100", "Enter"], "level": "advanced" },
      { "action": "Macro: Orange", "cmd": "Custom 1 @ 100 Custom 2 @ 30 Custom 3 @ 0 Enter", "keys": ["Custom", "1", "@", "100", "Custom", "2", "@", "30", "Custom", "3", "@", "0", "Enter"], "level": "advanced" },
      { "action": "Macro: Home All Movers", "cmd": "Chan 101 Thru 200 Preset Pan @ Home Preset Tilt @ Home Enter", "keys": ["Chan", "101", "Thru", "200", "Preset", "Pan", "@", "Home", "Preset", "Tilt", "@", "Home", "Enter"], "level": "advanced" },
      { "action": "Macro: Home Zoom", "cmd": "Chan 101 Thru 200 Beam Zoom @ Home Enter", "keys": ["Chan", "101", "Thru", "200", "Beam", "Zoom", "@", "Home", "Enter"], "level": "advanced" },
      { "action": "Macro: Home Focus", "cmd": "Chan 101 Thru 200 Beam Edge @ Home Enter", "keys": ["Chan", "101", "Thru", "200", "Beam", "Edge", "@", "Home", "Enter"], "level": "advanced" },
      { "action": "Macro: Clear Highlight/Solo", "cmd": "Highlight\nHighlight", "keys": ["Highlight", "Highlight"], "level": "basic" },
      { "action": "Macro: Standard Live View", "cmd": "Display_Part 1 Live Enter\nDisplay_Part 2 Blind Enter\nDisplay_Part 3 Magic_Sheet 1 Enter", "keys": ["Display_Part", "1", "Live", "Display_Part", "2", "Blind", "Display_Part", "3", "Magic_Sheet", "1"], "level": "advanced" },
      { "action": "Macro: Programming View", "cmd": "Display_Part 1 Cue Enter\nDisplay_Part 2 Preset Enter\nDisplay_Part 3 ColorPalette Enter", "keys": ["Display_Part", "1", "Cue", "Display_Part", "2", "Preset", "Display_Part", "3", "ColorPalette"], "level": "advanced" },
      { "action": "Macro: Copy Cue Range", "cmd": "Copy Cue 1 Thru 10 Enter Cue 101 Enter", "keys": ["Copy", "Cue", "1", "Thru", "10", "Enter", "Cue", "101", "Enter"], "level": "advanced" },
      { "action": "Macro: Clear All Parks", "cmd": "Chan * Unpark Enter", "keys": ["Chan", "*", "Unpark", "Enter"], "level": "advanced" },
      { "action": "Macro: Clear Programmer & Release", "cmd": "Clear Enter\nRelease Enter", "keys": ["Clear", "Release"], "level": "basic" },
      { "action": "Macro: Refresh Outputs", "cmd": "Setup ‚Üí Outputs ‚Üí Refresh", "keys": ["Setup", "Outputs", "Refresh"], "level": "expert" },
      { "action": "Automatisation des t√¢ches r√©p√©titives", "cmd": "MACROS: Record rapide, urgences", "keys": ["Macro", "Record"], "level": "advanced" },
      { "action": "Assignation boutons physiques aux macros", "cmd": "Learn Key pour macros", "keys": ["Learn", "Cue", "Macro"], "level": "expert" },
      { "action": "EOS n'a pas de logique conditionnelle native", "cmd": "Macro conditionnelle (If/Then) non support√©e", "keys": ["Macro", "If"], "level": "expert" },
      { "action": "Contr√¥le rapide de tous les Custom Faders", "cmd": "Custom 1 Thru 16 @ 50 Enter", "keys": ["Custom", "1", "Thru", "16", "@", "50", "Enter"], "level": "advanced" },
      { "action": "Macro: CUE FIN DE SPECTACLE", "cmd": "Goto Cue 999 Enter", "keys": ["Goto", "Cue", "999", "Enter"], "level": "expert" },
      { "action": "Macro: CUE ENTR√âE SPECTATEURS", "cmd": "Goto Cue 0.5 Enter", "keys": ["Goto", "Cue", "0.5", "Enter"], "level": "expert" },
      { "action": "Transition imm√©diate (utile en th√©√¢tre)", "cmd": "Cue 1 Follow 0 Enter", "keys": ["Cue", "1", "Follow", "0", "Enter"], "level": "advanced" },
      { "action": "Bonnes pratiques : label explicite pour th√©√¢tre", "cmd": "Record Cue 1 Label \"Entr√©e acteur\" Enter", "keys": ["Record", "Cue", "1", "Label", "\"Entr√©e acteur\"", "Enter"], "level": "advanced" },
      { "action": "Programmer sans perturber le live (th√©√¢tre)", "cmd": "Blind\nRecord Cue 10\nLive", "keys": ["Blind", "Record", "Cue", "10", "Live"], "level": "expert" }
    ]
  },
  "patch": {
    "Adressage & Configuration": [
      { "action": "Patcher un projecteur sur le canal 1", "cmd": "Patch Chan 1 Enter [Profil] Enter Address 1 Enter", "keys": ["Patch", "Chan", "1", "Enter", "[Profil]", "Enter", "Address", "1", "Enter"], "level": "advanced" },
      { "action": "Patcher plusieurs canaux", "cmd": "Patch Chan 1 Thru 10 Enter [Profil] Enter Address 1 Enter", "keys": ["Patch", "Chan", "1", "Thru", "10", "Enter", "[Profil]", "Enter", "Address", "1", "Enter"], "level": "advanced" },
      { "action": "Patch avec espacement d'adresses", "cmd": "Patch Chan 1 Thru 10 Enter [Profil] Enter Address 1 / 10 Enter", "keys": ["Patch", "Chan", "1", "Thru", "10", "Enter", "[Profil]", "Enter", "Address", "1", "/", "10", "Enter"], "level": "advanced" },
      { "action": "D√©patcher le canal 1", "cmd": "Unpatch Chan 1 Enter", "keys": ["Unpatch", "Chan", "1", "Enter"], "level": "advanced" },
      { "action": "D√©patcher une plage de canaux", "cmd": "Unpatch Chan 1 Thru 10 Enter", "keys": ["Unpatch", "Chan", "1", "Thru", "10", "Enter"], "level": "advanced" },
      { "action": "Adressage DMX simple (adresse 1)", "cmd": "Address 1 Enter", "keys": ["Address", "1", "Enter"], "level": "basic" },
      { "action": "Adressage univers 2, adresse 1", "cmd": "Address 2.1 Enter", "keys": ["Address", "2.1", "Enter"], "level": "advanced" },
      { "action": "Auto-distribution multi-univers", "cmd": "Address 1.1 / 512 Enter", "keys": ["Address", "1.1", "/", "512", "Enter"], "level": "expert" },
      { "action": "Renum√©rotation d'un canal", "cmd": "Move Chan 1 Enter Chan 101 Enter", "keys": ["Move", "Chan", "1", "Enter", "Chan", "101", "Enter"], "level": "advanced" },
      { "action": "Renum√©rotation d'une plage", "cmd": "Move Chan 1 Thru 10 Enter Chan 101 Enter", "keys": ["Move", "Chan", "1", "Thru", "10", "Enter", "Chan", "101", "Enter"], "level": "advanced" },
      { "action": "Ins√©rer un canal (d√©cimal)", "cmd": "Move Chan 5 Enter Chan 2.5 Enter", "keys": ["Move", "Chan", "5", "Enter", "Chan", "2.5", "Enter"], "level": "expert" },
      { "action": "√âchanger deux canaux", "cmd": "Swap Chan 1 Enter Chan 2 Enter", "keys": ["Swap", "Chan", "1", "Enter", "Chan", "2", "Enter"], "level": "advanced" },
      { "action": "Label personnalis√© pour canal 1", "cmd": "Chan 1 Label \"Lyres JD\" Enter", "keys": ["Chan", "1", "Label", "\"Lyres JD\"", "Enter"], "level": "basic" },
      { "action": "Copier un label vers un autre canal", "cmd": "Copy Chan 1 Label Enter Chan 2 Enter", "keys": ["Copy", "Chan", "1", "Label", "Enter", "Chan", "2", "Enter"], "level": "advanced" },
      { "action": "Pr√©positionne le canal avant la cue", "cmd": "Cue 2 Chan 1 Mark Enter", "keys": ["Cue", "2", "Chan", "1", "Mark", "Enter"], "level": "expert" },
      { "action": "Retirer le park d'un canal", "cmd": "Chan 1 Unpark Enter", "keys": ["Chan", "1", "Unpark", "Enter"], "level": "expert" },
      { "action": "Arrangement matrice 10x10 pixels", "cmd": "Chan 1 Thru 100 Arrange Grid Columns 10 Rows 10 Enter", "keys": ["Chan", "1", "Thru", "100", "Arrange", "Grid", "Columns", "10", "Rows", "10", "Enter"], "level": "expert" },
      { "action": "Matrice pixels en serpentin", "cmd": "Chan 1 Thru 100 Arrange Grid Columns 10 Rows 10 Snake Enter", "keys": ["Chan", "1", "Thru", "100", "Arrange", "Grid", "Columns", "10", "Rows", "10", "Snake", "Enter"], "level": "expert" },
      { "action": "Patch multi-part fixture (3 t√™tes)", "cmd": "Patch Chan 1 Enter [Profil] Enter Address 1 Enter Parts 3 Enter", "keys": ["Patch", "Chan", "1", "Enter", "[Profil]", "Enter", "Address", "1", "Enter", "Parts", "3", "Enter"], "level": "expert" },
      { "action": "Contr√¥le partie 1 d'un fixture multi-part", "cmd": "Chan 1.1 @ 100 Enter", "keys": ["Chan", "1.1", "@", "100", "Enter"], "level": "expert" },
      { "action": "Voir les d√©tails du patch du canal", "cmd": "Query Chan 1 Enter", "keys": ["Query", "Chan", "1", "Enter"], "level": "advanced" },
      { "action": "Premi√®re √©tape: pr√©paration", "cmd": "PATCH ‚Üí Labelliser ‚Üí Groupes ‚Üí Home Values", "keys": ["Patch", "Label", "Group", "Home"], "level": "basic" },
      { "action": "Activer la sortie sACN", "cmd": "Setup ‚Üí Patch ‚Üí Outputs ‚Üí Add Output ‚Üí sACN", "keys": ["Setup", "Patch", "Outputs", "Add Output", "sACN"], "level": "expert" },
      { "action": "Activer la sortie Art-Net", "cmd": "Setup ‚Üí Patch ‚Üí Outputs ‚Üí Add Output ‚Üí Art-Net", "keys": ["Setup", "Patch", "Outputs", "Add Output", "Art-Net"], "level": "expert" },
      { "action": "Calcul univers Art-Net", "cmd": "Universe = (Net √ó 256) + (Subnet √ó 16) + Universe", "keys": ["Net", "Subnet", "Universe"], "level": "expert" },
      { "action": "Adresse IP recommand√©e console", "cmd": "IP typique: 10.101.1.100", "keys": ["10.101.1.100"], "level": "expert" },
      { "action": "Masque de sous-r√©seau standard", "cmd": "Subnet Mask: 255.255.255.0", "keys": ["255.255.255.0"], "level": "expert" },
      { "action": "Passerelle r√©seau typique", "cmd": "Gateway: 10.101.1.1", "keys": ["10.101.1.1"], "level": "expert" },
      { "action": "Rappelle les valeurs d'origine du canal 1", "cmd": "Chan 1 @ Home Enter", "keys": ["Chan", "1", "@", "Home", "Enter"], "level": "advanced" },
      { "action": "R√©initialise tous les moving lights", "cmd": "Select Moving_Light Enter @ Home Enter", "keys": ["Select", "Moving_Light", "@", "Home", "Enter"], "level": "advanced" },
      { "action": "Verrouille le show contre modification", "cmd": "Setup ‚Üí System Settings ‚Üí Show ‚Üí Lock Show", "keys": ["Setup", "System Settings", "Show", "Lock Show"], "level": "expert" },
      { "action": "Active la sauvegarde automatique", "cmd": "Setup ‚Üí System Settings ‚Üí Auto Save", "keys": ["Setup", "System Settings", "Auto Save"], "level": "expert" },
      { "action": "Affiche erreurs DMX/patch", "cmd": "Setup ‚Üí Diagnostics ‚Üí DMX Status", "keys": ["Setup", "Diagnostics", "DMX Status"], "level": "expert" }
    ]
  },
  "network": {
    "OSC": [
      { "action": "Acc√©der √† la configuration r√©seau", "cmd": "Setup ‚Üí System Settings ‚Üí Network", "keys": ["Setup", "System Settings", "Network"], "level": "expert" },
      { "action": "Activer OSC", "cmd": "Setup ‚Üí System Settings ‚Üí Show Control ‚Üí OSC ‚Üí Enable OSC: ON", "keys": ["Setup", "System Settings", "Show Control", "OSC", "Enable OSC"], "level": "expert" },
      { "action": "Ports OSC par d√©faut", "cmd": "RX Port: 3032, TX Port: 3033", "keys": ["3032", "3033"], "level": "expert" },
      { "action": "OSC: S√©lectionner Canal 1", "cmd": "/eos/chan/1", "keys": ["/eos/chan/1"], "level": "expert" },
      { "action": "OSC: S√©lectionner Canaux 1-10", "cmd": "/eos/chan/1/10", "keys": ["/eos/chan/1/10"], "level": "expert" },
      { "action": "OSC: Canal 1 @ 100%", "cmd": "/eos/chan/1/level/100", "keys": ["/eos/chan/1/level/100"], "level": "expert" },
      { "action": "OSC: Lancer Cue 1", "cmd": "/eos/cue/1/fire", "keys": ["/eos/cue/1/fire"], "level": "expert" },
      { "action": "OSC: Cue suivante (Go)", "cmd": "/eos/go", "keys": ["/eos/go"], "level": "expert" },
      { "action": "OSC: Cue pr√©c√©dente (Back)", "cmd": "/eos/back", "keys": ["/eos/back"], "level": "expert" },
      { "action": "OSC: Stop", "cmd": "/eos/stop", "keys": ["/eos/stop"], "level": "expert" },
      { "action": "OSC: Cue 1 @ 50% intensit√©", "cmd": "/eos/cue/1/fire/0.5", "keys": ["/eos/cue/1/fire/0.5"], "level": "expert" },
      { "action": "OSC: Rappeler Preset 1", "cmd": "/eos/preset/1", "keys": ["/eos/preset/1"], "level": "expert" },
      { "action": "OSC: Rappeler Color Palette 5", "cmd": "/eos/color_palette/5", "keys": ["/eos/color_palette/5"], "level": "expert" },
      { "action": "OSC: Rappeler Beam Palette 3", "cmd": "/eos/beam_palette/3", "keys": ["/eos/beam_palette/3"], "level": "expert" },
      { "action": "OSC: D√©marrer Effet 1", "cmd": "/eos/effect/1/start", "keys": ["/eos/effect/1/start"], "level": "expert" },
      { "action": "OSC: Arr√™ter Effet 1", "cmd": "/eos/effect/1/stop", "keys": ["/eos/effect/1/stop"], "level": "expert" },
      { "action": "OSC: Arr√™ter tous les effets", "cmd": "/eos/effect/all/stop", "keys": ["/eos/effect/all/stop"], "level": "expert" },
      { "action": "OSC: Rate Master 1 @ 120 BPM", "cmd": "/eos/rate/1/set/120", "keys": ["/eos/rate/1/set/120"], "level": "expert" },
      { "action": "OSC: Tap Tempo Rate Master 1", "cmd": "/eos/rate/1/tap", "keys": ["/eos/rate/1/tap"], "level": "expert" },
      { "action": "OSC: Ex√©cuter Macro 1", "cmd": "/eos/macro/1/fire", "keys": ["/eos/macro/1/fire"], "level": "expert" },
      { "action": "OSC: Grand Master @ 100%", "cmd": "/eos/grandmaster/100", "keys": ["/eos/grandmaster/100"], "level": "expert" },
      { "action": "OSC TX: Cue active (feedback)", "cmd": "/eos/out/active/cue", "keys": ["/eos/out/active/cue"], "level": "expert" },
      { "action": "OSC TX: Cue en attente", "cmd": "/eos/out/pending/cue", "keys": ["/eos/out/pending/cue"], "level": "expert" },
      { "action": "OSC TX: Cue lanc√©e", "cmd": "/eos/out/event/cue/fire", "keys": ["/eos/out/event/cue/fire"], "level": "expert" }
    ],
    "MIDI & Timecode": [
      { "action": "Activer MIDI", "cmd": "Setup ‚Üí System Settings ‚Üí Show Control ‚Üí MIDI ‚Üí Enable MIDI: ON", "keys": ["Setup", "System Settings", "Show Control", "MIDI", "Enable MIDI"], "level": "expert" },
      { "action": "Mapping MIDI: Note ‚Üí Cue", "cmd": "Note 60 (C3) ‚Üí Cue 1 Fire", "keys": ["Note", "60", "C3"], "level": "expert" },
      { "action": "Mapping MIDI: CC ‚Üí Grand Master", "cmd": "CC 1 ‚Üí Grand Master", "keys": ["CC", "1"], "level": "expert" },
      { "action": "Mapping MIDI: CC ‚Üí Submaster", "cmd": "CC 7 ‚Üí Sub 1 Level", "keys": ["CC", "7"], "level": "expert" },
      { "action": "Mapping MIDI: CC ‚Üí Rate Master", "cmd": "CC 10 ‚Üí Rate Master 1", "keys": ["CC", "10"], "level": "expert" },
      { "action": "Mapping MIDI: CC ‚Üí Custom Fader", "cmd": "CC 11 ‚Üí Custom Fader 1", "keys": ["CC", "11"], "level": "expert" },
      { "action": "Mapping MIDI: Program Change ‚Üí Cue", "cmd": "Program 1 ‚Üí Goto Cue 1", "keys": ["Program", "1"], "level": "expert" },
      { "action": "Activer MIDI Show Control", "cmd": "Setup ‚Üí MIDI ‚Üí MSC Settings ‚Üí Enable MSC: ON", "keys": ["Setup", "MIDI", "MSC Settings", "Enable MSC"], "level": "expert" },
      { "action": "MSC: Commande GO", "cmd": "GO ‚Üí Next Cue", "keys": ["GO"], "level": "expert" },
      { "action": "MSC: Commande STOP", "cmd": "STOP ‚Üí Stop", "keys": ["STOP"], "level": "expert" },
      { "action": "MSC: Commande RESUME", "cmd": "RESUME ‚Üí Resume", "keys": ["RESUME"], "level": "expert" },
      { "action": "MSC: Commande TIMED_GO", "cmd": "TIMED_GO ‚Üí Go avec temps", "keys": ["TIMED_GO"], "level": "expert" },
      { "action": "Acc√©der configuration timecode", "cmd": "Setup ‚Üí System Settings ‚Üí Show Control ‚Üí Timecode", "keys": ["Setup", "System Settings", "Show Control", "Timecode"], "level": "expert" },
      { "action": "Sources timecode disponibles", "cmd": "Source: Internal / MIDI / LTC / Art-Net", "keys": ["Source", "Internal", "MIDI", "LTC", "Art-Net"], "level": "expert" },
      { "action": "R√©glages frame rate", "cmd": "Frame Rate: 25 fps (PAL) / 30 fps (NTSC)", "keys": ["25 fps", "30 fps"], "level": "expert" },
      { "action": "Pixels 1 √† 50", "cmd": "Pixel 1 Thru 50", "keys": ["Pixel", "1", "Thru", "50"], "level": "expert" },
      { "action": "Carte pixel 1", "cmd": "Pixel Map 1", "keys": ["Pixel", "Map", "1"], "level": "expert" }
    ]
  },
  "magicsheets": {
    "Cr√©ation & Contr√¥le": [
      { "action": "Donne un label √† la Magic Sheet 1", "cmd": "Magic.Sheet 1 Label \"Nom\" Enter", "keys": ["Magic.Sheet", "1", "Label", "\"Nom\"", "Enter"], "level": "advanced" },
      { "action": "Cr√©er une nouvelle Magic Sheet", "cmd": "[Displays] ‚Üí Magic Sheet ‚Üí [New]", "keys": ["[Displays]", "Magic Sheet", "[New]"], "level": "advanced" },
      { "action": "Activer le mode √©dition", "cmd": "Mode Edit (Crayon)", "keys": ["[Crayon]"], "level": "basic" },
      { "action": "Ajouter objets par glisser-d√©poser", "cmd": "Drag & Drop depuis fen√™tre source", "keys": ["Drag", "Drop"], "level": "advanced" },
      { "action": "Ajouter objets via palette", "cmd": "Object Palette ‚Üí S√©lectionner type", "keys": ["Object", "Palette"], "level": "advanced" },
      { "action": "Copier-coller objets", "cmd": "Ctrl+C / Ctrl+V objets", "keys": ["Ctrl+C", "Ctrl+V"], "level": "basic" },
      { "action": "Bouton de s√©lection rapide", "cmd": "Channel Button ‚Üí S√©lection canal", "keys": ["Channel", "Button"], "level": "advanced" },
      { "action": "Bouton pour lancer des macros", "cmd": "Macro Button ‚Üí Ex√©cution macro", "keys": ["Macro", "Button"], "level": "advanced" },
      { "action": "Fader de contr√¥le personnalis√©", "cmd": "Fader ‚Üí Contr√¥le intensit√©/param√®tre", "keys": ["Fader"], "level": "advanced" },
      { "action": "Bouton de s√©lection de groupe", "cmd": "Group Button ‚Üí S√©lection groupe", "keys": ["Group", "Button"], "level": "advanced" },
      { "action": "Bouton de rappel de palette", "cmd": "Preset Button ‚Üí Rappel palette", "keys": ["Preset", "Button"], "level": "advanced" },
      { "action": "Zone de texte avec variables", "cmd": "Text Box ‚Üí Texte statique/dynamique", "keys": ["Text", "Box"], "level": "advanced" },
      { "action": "Bouton pour lancer des cues", "cmd": "Cue Button ‚Üí Lancer cue", "keys": ["Cue", "Button"], "level": "advanced" },
      { "action": "Bouton de contr√¥le submaster", "cmd": "Sub Button ‚Üí Contr√¥le submaster", "keys": ["Sub", "Button"], "level": "advanced" },
      { "action": "Importer images (PNG, JPG)", "cmd": "Image ‚Üí Logo, plan, d√©cor", "keys": ["Image"], "level": "advanced" },
      { "action": "Formes g√©om√©triques", "cmd": "Shape ‚Üí Rectangle, cercle, ligne", "keys": ["Shape"], "level": "advanced" },
      { "action": "Texte dynamique - Cue active", "cmd": "Text : \"CUE: {Cue}\"", "keys": ["{Cue}"], "level": "expert" },
      { "action": "Texte dynamique - BPM Rate Master", "cmd": "Text : \"BPM: {Rate_Master_1_BPM}\"", "keys": ["{Rate_Master_1_BPM}"], "level": "expert" },
      { "action": "Texte dynamique - S√©lection", "cmd": "Text : \"Selected: Ch {Channel} @ {Intensity}%\"", "keys": ["{Channel}", "{Intensity}"], "level": "expert" },
      { "action": "Afficher la grille d'alignement", "cmd": "Clic droit ‚Üí Show Grid", "keys": ["Show", "Grid"], "level": "basic" },
      { "action": "Aligner √† la grille", "cmd": "Clic droit ‚Üí Snap to Grid", "keys": ["Snap", "Grid"], "level": "basic" },
      { "action": "Aligner plusieurs objets", "cmd": "S√©lectionner ‚Üí Align ‚Üí Left/Right/Center", "keys": ["Align"], "level": "advanced" },
      { "action": "R√©partir objets √©quitablement", "cmd": "S√©lectionner ‚Üí Distribute ‚Üí Horizontal/Vertical", "keys": ["Distribute"], "level": "advanced" },
      { "action": "Grouper des objets", "cmd": "S√©lectionner ‚Üí Group", "keys": ["Group"], "level": "advanced" },
      { "action": "Sauvegarder les Magic Sheets", "cmd": "File ‚Üí Save Show", "keys": ["File", "Save", "Show"], "level": "basic" },
      { "action": "Exporter en image", "cmd": "File ‚Üí Export ‚Üí Magic Sheet Image", "keys": ["File", "Export", "Magic Sheet Image"], "level": "advanced" },
      { "action": "Interface personnalis√©e", "cmd": "MAGIC SHEETS: Navigation, contr√¥le", "keys": ["Magic_Sheet"], "level": "advanced" },
      { "action": "Enregistrement rapide depuis Magic Sheet", "cmd": "Quick Palettes dans Magic Sheets", "keys": ["Record", "Preset", "Enter"], "level": "advanced" },
      { "action": "Contr√¥le direct permanent", "cmd": "Custom Fader Bank dans Magic Sheets", "keys": ["Custom", "Fader", "Setup"], "level": "advanced" },
      { "action": "Positions en √©ventail automatique", "cmd": "Fan (√©ventail) positions", "keys": ["Fan", "Preset", "Pan"], "level": "expert" },
      { "action": "Changements rapides de positions", "cmd": "Double Preset changes", "keys": ["Preset", "Mark", "Cue"], "level": "expert" },
      { "action": "Programmation sans affecter le live", "cmd": "Blind pour pr√©programmer", "keys": ["Blind", "Record", "Live"], "level": "expert" },
      { "action": "Diagnostic pr√©cis des probl√®mes", "cmd": "Query pour debugger Magic Sheets", "keys": ["Query", "Cue", "Chan"], "level": "advanced" },
      { "action": "Assignation physique depuis l'interface", "cmd": "Learn Key assign√© sur Magic Sheet", "keys": ["Learn", "Macro", "Magic_Sheet"], "level": "expert" }
    ]
  },
  "workflows": {
    "Programmation": [
      { "action": "√âtapes classiques de programmation", "cmd": "WORKFLOW PROGRAMMATION", "keys": ["Patch", "Palettes", "Groupes", "Cues"], "level": "basic" },
      { "action": "Premi√®re √©tape: pr√©paration", "cmd": "PATCH ‚Üí Labelliser ‚Üí Groupes ‚Üí Home Values", "keys": ["Patch", "Label", "Group", "Home"], "level": "basic" },
      { "action": "Deuxi√®me √©tape: palettes", "cmd": "PALETTES: 20-30 positions, 15-20 couleurs", "keys": ["Record", "Preset", "ColorPalette"], "level": "basic" },
      { "action": "Organisation par groupes", "cmd": "GROUPES: Par type, zone, fonction", "keys": ["Record", "Group"], "level": "basic" },
      { "action": "Structure des cues", "cmd": "CUE LIST: Cue 0 preset ‚Üí Cues principales", "keys": ["Record", "Cue"], "level": "basic" },
      { "action": "Contr√¥les manuels", "cmd": "SUBMASTERS: Layers, effets, flash", "keys": ["Sub", "Record"], "level": "basic" },
      { "action": "Interface personnalis√©e", "cmd": "MAGIC SHEETS: Navigation, contr√¥le", "keys": ["Magic_Sheet"], "level": "advanced" },
      { "action": "Automatisation", "cmd": "MACROS: Record rapide, urgences", "keys": ["Macro", "Record"], "level": "advanced" },
      { "action": "Validation finale", "cmd": "TESTS: V√©rifier cues, macros, backup", "keys": ["Goto", "Cue", "Macro"], "level": "basic" }
    ],
    "Sc√©narios": [
      { "action": "Structure pour concerts", "cmd": "WORKFLOW CONCERT", "keys": ["Group", "Palette", "Cue"], "level": "advanced" },
      { "action": "Structure pour th√©√¢tre", "cmd": "WORKFLOW TH√â√ÇTRE", "keys": ["Track", "Time", "Cue"], "level": "advanced" },
      { "action": "Structure pour √©v√©nements", "cmd": "WORKFLOW CORPORATE", "keys": ["Sub", "Macro", "Magic_Sheet"], "level": "advanced" }
    ],
    "Optimisation": [
      { "action": "Actions simultan√©es", "cmd": "UTILISER LES PARTS", "keys": ["Part", "Record"], "level": "expert" },
      { "action": "Gestion des cues", "cmd": "COPIER/COLLER INTELLIGENT", "keys": ["Copy", "Cue"], "level": "advanced" },
      { "action": "Modification centralis√©e", "cmd": "PROGRAMMER AVEC PALETTES", "keys": ["Preset", "ColorPalette"], "level": "basic" },
      { "action": "√âconomie de programmation", "cmd": "TRACKING: Les valeurs persistent", "keys": ["Track"], "level": "advanced" },
      { "action": "Blocage du tracking", "cmd": "Cue Block ‚Üí Arr√™te tracking", "keys": ["Cue", "Block"], "level": "advanced" },
      { "action": "Mode cue seulement", "cmd": "Cue Cue_Only ‚Üí Pas de tracking", "keys": ["Cue", "Cue_Only"], "level": "advanced" },
      { "action": "Changements rapides de positions", "cmd": "ASTUCE 1: Double Preset", "keys": ["Preset", "Mark", "Cue"], "level": "expert" },
      { "action": "Types d'effets", "cmd": "ASTUCE 3: Absolute vs Relative", "keys": ["Absolute_Param", "Relative_Param"], "level": "expert" },
      { "action": "Positions en √©ventail", "cmd": "ASTUCE 4: Fan (√©ventail)", "keys": ["Fan", "Preset", "Pan"], "level": "expert" },
      { "action": "Boutons personnalis√©s", "cmd": "ASTUCE 5: Sub Bumps personnalis√©s", "keys": ["Sub", "Bump", "Macro"], "level": "advanced" },
      { "action": "Enregistrement rapide", "cmd": "ASTUCE 6: Quick Palettes", "keys": ["Record", "Preset", "Enter"], "level": "advanced" },
      { "action": "Assignation boutons", "cmd": "ASTUCE 7: Learn Key", "keys": ["Learn", "Cue", "Macro"], "level": "expert" },
      { "action": "Diagnostic pr√©cis", "cmd": "ASTUCE 8: Query pour debugger", "keys": ["Query", "Cue", "Chan"], "level": "advanced" },
      { "action": "Programmation sans affecter le live", "cmd": "ASTUCE 9: Blind pour pr√©programmer", "keys": ["Blind", "Record", "Live"], "level": "expert" },
      { "action": "Contr√¥le direct permanent", "cmd": "ASTUCE 10: Custom Fader Bank", "keys": ["Custom", "Fader", "Setup"], "level": "advanced" },
      { "action": "√âventail sans interf√©rer avec tracking", "cmd": "ASTUCE 11: Fan + Only", "keys": ["Fan", "Preset", "Only"], "level": "expert" },
      { "action": "Synchronisation musicale fine", "cmd": "ASTUCE 12: Rate Master + Timing", "keys": ["Rate_Master", "Time", "Cue"], "level": "expert" },
      { "action": "S√©curit√© avant diffusion", "cmd": "ASTUCE 13: Lock Show", "keys": ["Setup", "Lock Show"], "level": "expert" },
      { "action": "Pr√©vention perte donn√©es", "cmd": "ASTUCE 14: Auto Save", "keys": ["Setup", "Auto Save"], "level": "expert" },
      { "action": "D√©tection erreurs en r√©gie", "cmd": "ASTUCE 15: DMX Diagnostics", "keys": ["Setup", "DMX Status"], "level": "expert" }
    ]
  },
  "theatre": {
    "Pr√©paration": [
      { "action": "Ambiance salle ‚Äì avant spectacle", "cmd": "Goto Cue 0.5 Enter", "keys": ["Goto", "Cue", "0.5", "Enter"], "level": "basic" },
      { "action": "D√©but du spectacle", "cmd": "Goto Cue 1 Enter", "keys": ["Goto", "Cue", "1", "Enter"], "level": "basic" },
      { "action": "Fin du spectacle ‚Äì retour salle", "cmd": "Goto Cue 999 Enter", "keys": ["Goto", "Cue", "999", "Enter"], "level": "basic" },
      { "action": "Transition imm√©diate (th√©√¢tre: entr√©e d'acteur)", "cmd": "Cue 1 Follow 0 Enter", "keys": ["Cue", "1", "Follow", "0", "Enter"], "level": "advanced" },
      { "action": "Programmer sans perturber le live", "cmd": "Blind\nRecord Cue 10\nLive", "keys": ["Blind", "Record", "Cue", "10", "Live"], "level": "expert" },
      { "action": "Cue sans tracking (utile pour effets isol√©s)", "cmd": "Track Off\nRecord Cue 5\nTrack On", "keys": ["Track", "Off", "Record", "Cue", "5", "Track", "On"], "level": "advanced" },
      { "action": "Structure classique th√©√¢tre", "cmd": "Cue List: 1 ‚Üí Acte I, 100 ‚Üí Entracte, 200 ‚Üí Acte II", "keys": ["Cue", "List"], "level": "advanced" },
      { "action": "Contr√¥le salle ind√©pendant", "cmd": "Sub 1 Label \"Lumi√®res salle\" Enter", "keys": ["Sub", "1", "Label", "\"Lumi√®res salle\"", "Enter"], "level": "basic" },
      { "action": "Fin de spectacle : black + salle", "cmd": "Chan * @ 0 Enter\nSub 1 @ Full Enter", "keys": ["Chan", "*", "@", "0", "Sub", "1", "@", "Full"], "level": "expert" },
      { "action": "Label explicite pour cue critique", "cmd": "Record Cue 50 Label \"Blackout sc√®ne\" Enter", "keys": ["Record", "Cue", "50", "Label", "\"Blackout sc√®ne\"", "Enter"], "level": "basic" },
      { "action": "Verrouiller avant repr√©sentation", "cmd": "Setup ‚Üí System Settings ‚Üí Show ‚Üí Lock Show", "keys": ["Setup", "System Settings", "Show", "Lock Show"], "level": "expert" },
      { "action": "Pr√©paration avant entr√©e r√©gisseur invit√©", "cmd": "Clear Enter\nRelease Enter", "keys": ["Clear", "Release"], "level": "basic" },
      { "action": "V√©rification rapide des cues", "cmd": "Query Cue 1 Enter", "keys": ["Query", "Cue", "1", "Enter"], "level": "advanced" },
      { "action": "Groupes par zone sc√©nique", "cmd": "Group 1 Label \"Avant-sc√®ne\" Enter", "keys": ["Group", "1", "Label", "\"Avant-sc√®ne\"", "Enter"], "level": "basic" },
      { "action": "Groupes par zone sc√©nique", "cmd": "Group 2 Label \"Fond\" Enter", "keys": ["Group", "2", "Label", "\"Fond\"", "Enter"], "level": "basic" },
      { "action": "R√©initialiser tempo avant repr√©sentation", "cmd": "Rate_Master 1 @ 100 Enter", "keys": ["Rate_Master", "1", "@", "100", "Enter"], "level": "basic" },
      { "action": "Grand Master 100% avant d√©but", "cmd": "Grand @ Full Enter", "keys": ["Grand", "@", "Full", "Enter"], "level": "basic" },
      { "action": "Arr√™ter tous les effets avant d√©but", "cmd": "Effect * Stop Enter", "keys": ["Effect", "*", "Stop", "Enter"], "level": "basic" },
      { "action": "Copie acte I ‚Üí acte II", "cmd": "Copy Cue 1 Thru 10 Enter Cue 201 Enter", "keys": ["Copy", "Cue", "1", "Thru", "10", "Enter", "Cue", "201", "Enter"], "level": "advanced" },
      { "action": "Emp√™che tracking sur cue d'entr√©e", "cmd": "Cue 1 Block Enter", "keys": ["Cue", "1", "Block", "Enter"], "level": "advanced" },
      { "action": "Palettes explicites pour acteurs", "cmd": "Preset 1 Label \"Position entr√©e\" Enter", "keys": ["Preset", "1", "Label", "\"Position entr√©e\"", "Enter"], "level": "basic" },
      { "action": "Palettes explicites pour ambiance", "cmd": "ColorPalette 1 Label \"Ambiance nuit\" Enter", "keys": ["ColorPalette", "1", "Label", "\"Ambiance nuit\"", "Enter"], "level": "basic" },
      { "action": "Magic Sheet simplifi√©e pour invit√©s", "cmd": "Magic.Sheet 1 Label \"R√©gie accueil\" Enter", "keys": ["Magic.Sheet", "1", "Label", "\"R√©gie accueil\"", "Enter"], "level": "advanced" },
      { "action": "Vue accueil : simple et lisible", "cmd": "Display_Part 1 Live Enter\nDisplay_Part 2 Magic_Sheet 1 Enter", "keys": ["Display_Part", "1", "Live", "Display_Part", "2", "Magic_Sheet", "1"], "level": "advanced" },
      { "action": "Bouton blackout rapide pour r√©gisseur invit√©", "cmd": "Sub 2 Label \"Blackout\" Enter\nSub 2 Cue 0.1 Enter", "keys": ["Sub", "2", "Label", "\"Blackout\"", "Sub", "2", "Cue", "0.1"], "level": "advanced" },
      { "action": "Macro explicite pour fin de show", "cmd": "Macro 5 Label \"Fin + Salle\" Enter", "keys": ["Macro", "5", "Label", "\"Fin + Salle\"", "Enter"], "level": "expert" },
      { "action": "Raccourci physique pour fin de spectacle", "cmd": "Learn Key ‚Üí Assign Macro 5 to Button", "keys": ["Learn", "Macro", "5"], "level": "expert" },
      { "action": "V√©rifier connexion avant spectacle", "cmd": "Setup ‚Üí Diagnostics ‚Üí DMX Status", "keys": ["Setup", "Diagnostics", "DMX Status"], "level": "expert" }
    ]
  },
  "depannage": {
    "Urgences": [
      { "action": "BLACKOUT TOTAL - Tous canaux √† 0%", "cmd": "Chan * @ 0 Enter", "keys": ["Chan", "*", "@", "0", "Enter"], "level": "basic" },
      { "action": "Grand Master √† 0%", "cmd": "Grand @ 0 Enter", "keys": ["Grand", "@", "0", "Enter"], "level": "basic" },
      { "action": "Stop tous les effets", "cmd": "Effect * Stop Enter", "keys": ["Effect", "*", "Stop", "Enter"], "level": "basic" },
      { "action": "Rel√¢che tout", "cmd": "Release Enter", "keys": ["Release", "Enter"], "level": "basic" },
      { "action": "Efface le programmer", "cmd": "Clear Enter", "keys": ["Clear", "Enter"], "level": "basic" },
      { "action": "Voir le contenu de la cue 1", "cmd": "Query Cue 1 Enter", "keys": ["Query", "Cue", "1", "Enter"], "level": "advanced" },
      { "action": "Voir le contenu de la palette 1", "cmd": "Query Preset 1 Enter", "keys": ["Query", "Preset", "1", "Enter"], "level": "advanced" },
      { "action": "Voir les param√®tres du canal 1", "cmd": "Query Chan 1 Enter", "keys": ["Query", "Chan", "1", "Enter"], "level": "advanced" },
      { "action": "Voir les effets actifs", "cmd": "Query Effect Enter", "keys": ["Query", "Effect", "Enter"], "level": "advanced" },
      { "action": "PANIC MODE (Reset complet)", "cmd": "Release Enter\nEffect * Stop Enter\nClear Enter\nChan * @ 0 Enter\nGrand @ 0 Enter\n[D√©lai 2s]\nGrand @ Full Enter\nGoto Cue 1 Enter", "keys": ["Release", "Effect", "*", "Stop", "Clear", "Chan", "*", "@", "0", "Grand", "@", "0", "Goto", "Cue", "1"], "level": "expert" },
      { "action": "Clear All Parks", "cmd": "Chan * Unpark Enter", "keys": ["Chan", "*", "Unpark", "Enter"], "level": "advanced" },
      { "action": "Release All Subs", "cmd": "Sub * Release Enter", "keys": ["Sub", "*", "Release", "Enter"], "level": "advanced" },
      { "action": "Clear Programmer & Release", "cmd": "Clear Enter\nRelease Enter", "keys": ["Clear", "Release"], "level": "basic" },
      { "action": "Refresh Outputs", "cmd": "Setup ‚Üí Outputs ‚Üí Refresh", "keys": ["Setup", "Outputs", "Refresh"], "level": "expert" },
      { "action": "Solutions aux probl√®mes courants", "cmd": "R√âPARATION RAPIDE", "keys": ["Setup", "Outputs", "Refresh"], "level": "expert" }
    ],
    "S√©curit√©": [
      { "action": "S√©curit√© en cas de probl√®me majeur", "cmd": "PLAN B / CONTINGENCE", "keys": ["iRFR", "Backup", "Sub"], "level": "advanced" },
      { "action": "V√©rifications pr√©-show essentielles", "cmd": "CHECKLIST PRE-SHOW", "keys": ["Query", "Test", "Backup"], "level": "basic" },
      { "action": "Sauvegarde s√©curis√©e du show", "cmd": "BACKUP STRAT√âGIE 3-2-1", "keys": ["File", "Save"], "level": "basic" },
      { "action": "Nettoyage showfile pour performance", "cmd": "GESTION M√âMOIRE", "keys": ["Setup", "Patch", "Delete"], "level": "expert" },
      { "action": "Optimisation performances console", "cmd": "R√âDUIRE LAG/LATENCE", "keys": ["Magic_Sheet"], "level": "expert" },
      { "action": "Validation finale avant spectacle", "cmd": "TESTS: V√©rifier cues, macros, backup", "keys": ["Goto", "Cue", "Macro"], "level": "basic" },
      { "action": "Annuler la derni√®re action probl√©matique", "cmd": "Undo pour annuler erreur", "keys": ["Ctrl+Z"], "level": "basic" },
      { "action": "Examiner sans affecter le live", "cmd": "Blind pour diagnostiquer", "keys": ["Blind"], "level": "advanced" },
      { "action": "Outils de diagnostic avanc√©s", "cmd": "Query pour investiguer", "keys": ["Query"], "level": "advanced" },
      { "action": "Emp√™che modification accidentelle en live", "cmd": "Setup ‚Üí System Settings ‚Üí Show ‚Üí Lock Show", "keys": ["Setup", "Lock Show"], "level": "expert" },
      { "action": "Sauvegarde automatique toutes les X minutes", "cmd": "Setup ‚Üí System Settings ‚Üí Auto Save", "keys": ["Setup", "Auto Save"], "level": "expert" },
      { "action": "Liste des erreurs univers/patch", "cmd": "Setup ‚Üí Diagnostics ‚Üí DMX Status", "keys": ["Setup", "DMX Status"], "level": "expert" },
      { "action": "Efface toutes les assignations Learn Key", "cmd": "Learn Key reset", "keys": ["Learn", "Clear"], "level": "advanced" },
      { "action": "Red√©marrage complet en cas de freeze", "cmd": "Reboot Console", "keys": ["[ON]", "[OFF]"], "level": "expert" }
    ]
  },
  "optimisation": {
    "Sc√©narios": [
      { "action": "Structure optimis√©e pour concerts", "cmd": "WORKFLOW CONCERT", "keys": ["Group", "Palette", "Cue"], "level": "advanced" },
      { "action": "Structure optimis√©e pour th√©√¢tre", "cmd": "WORKFLOW TH√â√ÇTRE", "keys": ["Track", "Time", "Cue"], "level": "advanced" },
      { "action": "Structure optimis√©e pour √©v√©nements", "cmd": "WORKFLOW CORPORATE", "keys": ["Sub", "Macro", "Magic_Sheet"], "level": "advanced" }
    ],
    "Performance": [
      { "action": "Optimisation performances", "cmd": "R√âDUIRE LAG/LATENCE", "keys": ["Magic_Sheet"], "level": "expert" },
      { "action": "Nettoyage showfile", "cmd": "GESTION M√âMOIRE", "keys": ["Setup", "Patch", "Delete"], "level": "expert" },
      { "action": "Sauvegarde s√©curis√©e", "cmd": "BACKUP STRAT√âGIE 3-2-1", "keys": ["File", "Save"], "level": "basic" },
      { "action": "V√©rifications pr√©-show", "cmd": "CHECKLIST PRE-SHOW", "keys": ["Query", "Test", "Backup"], "level": "basic" },
      { "action": "S√©curit√© en cas de probl√®me", "cmd": "PLAN B / CONTINGENCE", "keys": ["iRFR", "Backup", "Sub"], "level": "advanced" },
      { "action": "Solutions aux probl√®mes", "cmd": "R√âPARATION RAPIDE", "keys": ["Setup", "Outputs", "Refresh"], "level": "expert" }
    ],
    "Organisation": [
      { "action": "Structure recommand√©e 1-100 Focus, 101-200 Couleurs", "cmd": "ORGANISATION DES PALETTES", "keys": ["Record", "Preset", "ColorPalette"], "level": "advanced" },
      { "action": "Structure 001-010 Urgences, 011-020 Navigation", "cmd": "ORGANISATION DES MACROS", "keys": ["Macro"], "level": "advanced" },
      { "action": "Structure 1-10 Type, 11-20 Zone, 21-30 Usage", "cmd": "ORGANISATION DES GROUPES", "keys": ["Group"], "level": "advanced" }
    ],
    "Optimisation": [
      { "action": "Optimisation programmation actions simultan√©es", "cmd": "UTILISER LES PARTS", "keys": ["Part", "Record"], "level": "expert" },
      { "action": "Efficacit√© et modification centralis√©e", "cmd": "PROGRAMMER AVEC PALETTES", "keys": ["Preset", "ColorPalette"], "level": "basic" },
      { "action": "√âconomie de programmation", "cmd": "TRACKING OPTIMIS√â", "keys": ["Track"], "level": "advanced" }
    ]
  }
};

    // localStorage key
    const LS_KEY = 'eosModifiedDB_v2';
    // deep clone helper
    const deepClone = (v) => JSON.parse(JSON.stringify(v));

    // restore db from localStorage or initial
    let dbState = (function(){
      try{
        const raw = localStorage.getItem(LS_KEY);
        if(raw) return JSON.parse(raw);
      }catch(e){ console.warn('Impossible de lire localStorage', e) }
      return deepClone(dbInitial);
    })();

    // mapping for key classes (single source)
    const keyClassMap = {
      chan:['Chan','Group','Cue','Setup','Patch','Select','Channel','Magic.Sheet'],
      red:['Record','Delete','Lock','Stop','Back','Effect','Clear','Delete','Unpatch'],
      green:['Go','Highlight','Solo','Only','Full','@','Release','Unpark'],
      orange:['Update','Merge','Time','Delay','Follow','Hang','Rate_Master','Tap'],
      purple:['Preset','ColorPalette','BeamPalette','Magic_Sheet','Macro','Preset'],
      cyanPrefix: '/eos/'
    };

    function keyClassFor(k){
      if(typeof k !== 'string') return 'special';
      if(k === 'Enter') return 'enter';
      if(k.startsWith(keyClassMap.cyanPrefix)) return 'cyan';
      for(const cls in keyClassMap){
        if(cls === 'cyanPrefix') continue;
        if(keyClassMap[cls].includes(k)) return cls;
      }
      // heuristics
      if(/^[0-9]+$/.test(k) || /^#|%|@|Thru|Odd|Even|Full|0|100/.test(k)) return 'blue';
      return 'special';
    }

    // ---------------------------
    // STATE
    // ---------------------------
    const categoryLabels = {
      fundamentals:"Fondamentaux", selection:"S√©lection", intensity:"Intensit√©",
      cues:"Cues & S√©quence", timing:"Timing & Fades", tracking:"Tracking",
      palettes:"Palettes", effects:"Effets & Rate Masters", submasters:"Submasters",
      macros:"Macros", patch:"Patch", network:"R√©seau", magicsheets:"Magic Sheets",
      workflows:"Workflows", theatre:"Th√©√¢tre", depannage:"D√©pannage", optimisation:"Optimisation"
    };

    let currentCategory = null;
    let currentSubcategory = null;
    let lastRenderedCommands = []; // for search/filters

    // ---------------------------
    // DOM helpers
    // ---------------------------
    const $ = (id) => document.getElementById(id);
    function escapeHTML(s){ return String(s).replace(/[&<>"']/g, (m) => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m])); }

    // ---------------------------
    // RENDERING
    // ---------------------------
    function renderCategories(){
      const grid = $('categoriesGrid');
      grid.innerHTML = '';
      Object.keys(dbState).forEach(cat => {
        const totalCount = Object.values(dbState[cat]).reduce((s,arr) => s + (arr?.length||0), 0);
        const el = document.createElement('div');
        el.className = 'bubble';
        el.setAttribute('role','listitem');
        el.innerHTML = `<div class="label">${escapeHTML(categoryLabels[cat]||cat)}</div><div class="count" aria-hidden="true">${totalCount}</div>`;
        el.addEventListener('click', () => showSubcategories(cat));
        grid.appendChild(el);
      });
    }

    function showSubcategories(category){
      currentCategory = category; currentSubcategory = null;
      $('categoriesView').classList.remove('active');
      $('commandsView').classList.remove('active');
      $('subcategoriesView').classList.add('active');
      $('subcategoriesTitle').textContent = categoryLabels[category] || category;
      renderSubcategories(category);
      document.querySelector('#globalSearch').value = '';
      $('currentFilter').textContent = '';
    }

    function renderSubcategories(category){
      const grid = $('subcategoriesGrid');
      grid.innerHTML = '';
      const subs = dbState[category] || {};
      Object.keys(subs).forEach(sub => {
        const arr = subs[sub] || [];
        const el = document.createElement('div');
        el.className = 'bubble';
        el.setAttribute('role','listitem');
        el.innerHTML = `<div class="label">${escapeHTML(sub)}</div><div class="count">${arr.length}</div>`;
        el.addEventListener('click', () => showCommands(category, sub));
        grid.appendChild(el);
      });
    }

    function showCommands(category, subcategory){
      currentCategory = category; currentSubcategory = subcategory;
      $('subcategoriesView').classList.remove('active');
      $('commandsView').classList.add('active');
      $('commandsTitle').textContent = subcategory;
      $('currentFilter').textContent = `${categoryLabels[category] || category} ‚Ä∫ ${subcategory}`;
      renderCommands(category, subcategory);
    }

    function renderCommands(category, subcategory, filterText = ''){
      const list = $('commandsList');
      list.innerHTML = '';
      const cmds = (dbState[category] && dbState[category][subcategory]) ? dbState[category][subcategory] : [];
      const filtered = cmds.filter(c => {
        if(!filterText) return true;
        const t = filterText.toLowerCase();
        return (c.action && c.action.toLowerCase().includes(t)) ||
               (c.cmd && c.cmd.toLowerCase().includes(t)) ||
               (c.keys && c.keys.join(' ').toLowerCase().includes(t)) ||
               (c.level && c.level.toLowerCase().includes(t));
      });
      lastRenderedCommands = filtered; // keep for editing
      filtered.forEach((cmd, idx) => {
        const card = document.createElement('div');
        card.className = 'command-card';
        card.tabIndex = 0;
        card.dataset.index = idx;

        const keysHtml = (cmd.keys || []).map(k => `<div class="eos-key ${keyClassFor(k)}">${escapeHTML(k)}</div>`).join('');
        const safeCmd = escapeHTML(cmd.cmd || '');

        card.innerHTML = `
          <div class="action-text">${escapeHTML(cmd.action || '')}</div>
          <div class="console-keys" aria-hidden="true">${keysHtml}</div>
          <div class="cmd-syntax" aria-label="Commande">${safeCmd}</div>
          <button class="more-actions" aria-label="Plus d'actions" data-action="toggleMenu">‚ãØ</button>
          <div class="actions-menu" role="menu" aria-hidden="true">
            <button data-action="copy">Copier</button>
            <button data-action="edit">√âditer</button>
            <button data-action="delete">Supprimer</button>
          </div>
        `;

        // append
        list.appendChild(card);
      });

      if(filtered.length === 0){
        list.innerHTML = `<div style="padding:18px;color:var(--gray)">Aucune commande trouv√©e${filterText ? ' pour "'+escapeHTML(filterText)+'"' : ''}.</div>`;
      }
    }

    // ---------------------------
    // EVENTS / INTERACTIONS
    // ---------------------------
    $('commandsList').addEventListener('click', (ev) => {
      const target = ev.target;
      const card = target.closest('.command-card');
      if(!card) return;
      const idx = parseInt(card.dataset.index,10);
      const menu = card.querySelector('.actions-menu');
      if(target.dataset.action === 'toggleMenu'){
        const isOpen = menu.style.display === 'flex';
        document.querySelectorAll('.actions-menu').forEach(m => m.style.display = 'none');
        menu.style.display = isOpen ? 'none' : 'flex';
        menu.setAttribute('aria-hidden', String(isOpen));
        ev.stopPropagation();
        return;
      }

      if(target.dataset.action === 'copy'){
        copyText( (lastRenderedCommands[idx] && lastRenderedCommands[idx].cmd) || '' );
        menu.style.display = 'none';
        return;
      }
      if(target.dataset.action === 'edit'){
        openEditModal(idx);
        menu.style.display = 'none';
        return;
      }
      if(target.dataset.action === 'delete'){
        confirmAndDelete(idx);
        menu.style.display = 'none';
        return;
      }

      if(target.closest('.command-card')){
        openDetailModal(lastRenderedCommands[idx] || null);
      }
    });

    document.addEventListener('click', (ev) => {
      if(!ev.target.closest('.command-card')) {
        document.querySelectorAll('.actions-menu').forEach(m => m.style.display = 'none');
      }
    });

    document.addEventListener('keydown', (ev) => {
      if(ev.key === 'Escape'){
        closeModal();
        document.querySelectorAll('.actions-menu').forEach(m => m.style.display = 'none');
      }
      if(ev.key === '/' && (document.activeElement.tagName !== 'INPUT' && document.activeElement.tagName !== 'TEXTAREA')){
        ev.preventDefault();
        $('globalSearch').focus();
      }
    });

    const themeToggle = $('themeToggle');
    function applyTheme(t){
      document.documentElement.setAttribute('data-theme', t);
      themeToggle.setAttribute('aria-pressed', String(t === 'light'));
      themeToggle.textContent = t === 'light' ? '‚òÄÔ∏è' : 'üåô';
      try{ localStorage.setItem('eos_theme', t) }catch(e){}
    }
    themeToggle.addEventListener('click', () => {
      const current = document.documentElement.getAttribute('data-theme');
      applyTheme(current === 'light' ? 'dark' : 'light');
    });
    (function(){
      try{
        const saved = localStorage.getItem('eos_theme') || (window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');
        applyTheme(saved);
      }catch(e){ applyTheme('dark') }
    })();

    $('globalSearch').addEventListener('input', (e) => {
      const q = e.target.value.trim();
      if($('commandsView').classList.contains('active') && currentCategory && currentSubcategory){
        renderCommands(currentCategory, currentSubcategory, q);
      }
    });
    $('clearSearch').addEventListener('click', () => {
      $('globalSearch').value = '';
      if(currentCategory && currentSubcategory) renderCommands(currentCategory, currentSubcategory);
      $('globalSearch').focus();
    });

    $('backToCategories').addEventListener('click', () => {
      $('subcategoriesView').classList.remove('active');
      $('categoriesView').classList.add('active');
      currentCategory = null; currentSubcategory = null;
    });
    $('backToSubcategories').addEventListener('click', () => {
      $('commandsView').classList.remove('active');
      $('subcategoriesView').classList.add('active');
      currentSubcategory = null;
    });

    $('addCommandBtn').addEventListener('click', () => {
      if(!currentCategory || !currentSubcategory){
        alert('S√©lectionnez d‚Äôabord une cat√©gorie et une sous-cat√©gorie o√π ajouter la commande.');
        return;
      }
      openEditModal(null);
    });

    $('resetDb').addEventListener('click', () => {
      if(!confirm('R√©initialiser la base locale aux valeurs initiales ? Toute modification locale sera perdue.')) return;
      dbState = deepClone(dbInitial);
      persistDB();
      renderCategories();
      if(currentCategory) renderSubcategories(currentCategory);
      if(currentCategory && currentSubcategory) renderCommands(currentCategory, currentSubcategory);
    });

    $('showAll').addEventListener('click', () => {
      $('categoriesView').classList.remove('active');
      $('subcategoriesView').classList.remove('active');
      $('commandsView').classList.add('active');
      $('commandsTitle').textContent = 'Toutes les commandes';
      $('currentFilter').textContent = 'Toutes les cat√©gories';
      renderAllCommands();
    });

    $('exportBtn').addEventListener('click', () => {
      const blob = new Blob([JSON.stringify(dbState, null, 2)], {type:'application/json'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url; a.download = 'eos-db-export.json'; document.body.appendChild(a); a.click();
      a.remove(); URL.revokeObjectURL(url);
    });

    $('importBtn').addEventListener('click', () => {
      const inp = document.createElement('input'); inp.type = 'file'; inp.accept = '.json,application/json';
      inp.addEventListener('change', (e) => {
        const file = e.target.files[0];
        if(!file) return;
        const reader = new FileReader();
        reader.onload = (ev) => {
          try{
            const parsed = JSON.parse(ev.target.result);
            if(typeof parsed !== 'object') throw new Error('Mauvais format');
            if(!confirm('Importer remplace la base locale actuelle. Continuer ?')) return;
            dbState = parsed;
            persistDB();
            renderCategories();
            alert('Import r√©ussi.');
          }catch(err){
            alert('Erreur import: ' + err.message);
          }
        };
        reader.readAsText(file);
      });
      inp.click();
    });

    function persistDB(){
      try{ localStorage.setItem(LS_KEY, JSON.stringify(dbState)); }catch(e){ console.warn('Impossible sauvegarder:', e) }
    }

    // ---------------------------
    // COMMAND EDIT / DELETE / COPY
    // ---------------------------
    function copyText(text){
      if(!text) return;
      navigator.clipboard?.writeText(text).then(() => {
        flashMessage('Copi√© dans le presse-papier');
      }).catch(() => {
        const ta = document.createElement('textarea'); ta.value = text; document.body.appendChild(ta); ta.select();
        try{ document.execCommand('copy'); flashMessage('Copi√©'); }catch(e){ alert('Impossible copier: '+e) }
        ta.remove();
      });
    }

    function confirmAndDelete(index){
      const cmdList = dbState[currentCategory][currentSubcategory];
      const cmd = lastRenderedCommands[index];
      if(!cmd) return;
      if(!confirm(`Supprimer la commande "${cmd.action}" ?`)) return;

      const toRemoveIdx = cmdList.findIndex(c => JSON.stringify(c) === JSON.stringify(cmd));
      if(toRemoveIdx >= 0){
        cmdList.splice(toRemoveIdx,1);
        persistDB();
        renderCommands(currentCategory, currentSubcategory, $('globalSearch').value.trim());
      }else{
        alert('Impossible de trouver la commande √† supprimer.');
      }
    }

    function openEditModal(index){
      const isNew = index === null;
      const existing = isNew ? {action:'', cmd:'', keys:[], level:'basic'} : deepClone(lastRenderedCommands[index]);
      buildModal({
        title: isNew ? 'Ajouter commande' : '√âditer commande',
        body: buildEditForm(existing),
        buttons: [
          {label:'Annuler', variant:'cancel', action: closeModal},
          {label:isNew ? 'Ajouter' : 'Enregistrer', variant:'save', action: () => {
            const form = document.querySelector('#editForm');
            const action = form.querySelector('[name="action"]').value.trim();
            const cmdText = form.querySelector('[name="cmd"]').value.trim();
            const keysText = form.querySelector('[name="keys"]').value.trim();
            const level = form.querySelector('[name="level"]').value;
            if(!action || !cmdText){
              alert('Action et commande sont requises.');
              return;
            }
            const newObj = { action, cmd: cmdText, keys: keysText ? keysText.split(/\s*,\s*|\s+/).filter(Boolean) : [], level };
            if(!dbState[currentCategory]) dbState[currentCategory] = {};
            if(!dbState[currentCategory][currentSubcategory]) dbState[currentCategory][currentSubcategory] = [];
            if(isNew){
              dbState[currentCategory][currentSubcategory].push(newObj);
            }else{
              const realList = dbState[currentCategory][currentSubcategory];
              const findIdx = realList.findIndex(c => JSON.stringify(c) === JSON.stringify(lastRenderedCommands[index]));
              if(findIdx >= 0) realList[findIdx] = newObj;
              else dbState[currentCategory][currentSubcategory].push(newObj);
            }
            persistDB();
            renderCommands(currentCategory, currentSubcategory, $('globalSearch').value.trim());
            closeModal();
          }}
        ]
      });
    }

    function openDetailModal(cmd){
      if(!cmd) return;
      const keysHtml = (cmd.keys || []).map(k => `<div class="eos-key ${keyClassFor(k)}">${escapeHTML(k)}</div>`).join('');
      buildModal({
        title: escapeHTML(cmd.action || 'D√©tails commande'),
        body: `<div style="display:flex;gap:12px;flex-wrap:wrap">
                <div style="flex:1;min-width:220px">
                  <div style="font-weight:700;margin-bottom:6px">Commande</div>
                  <div class="cmd-syntax" style="background:transparent;border:none;padding:0">${escapeHTML(cmd.cmd||'')}</div>
                </div>
                <div style="flex:1;min-width:200px">
                  <div style="font-weight:700;margin-bottom:6px">Cl√©s utilis√©es</div>
                  <div class="console-keys">${keysHtml}</div>
                </div>
               </div>`,
        buttons: [
          {label:'Fermer', action: closeModal},
          {label:'Copier', action: () => { copyText(cmd.cmd || ''); closeModal(); }}
        ]
      });
    }

    function buildEditForm(obj){
      const keysCSV = (obj.keys || []).join(', ');
      return `
        <form id="editForm" onsubmit="event.preventDefault()">
          <div class="form-row">
            <label style="min-width:90px">Action</label>
            <input name="action" value="${escapeHTML(obj.action||'')}" placeholder="Description courte"/>
          </div>
          <div class="form-row" style="margin-top:8px">
            <label style="min-width:90px">Commande</label>
            <input name="cmd" value="${escapeHTML(obj.cmd||'')}" placeholder="Texte exact de la commande"/>
          </div>
          <div class="form-row" style="margin-top:8px">
            <label style="min-width:90px">Cl√©s (s√©par√©es par virgule)</label>
            <input name="keys" value="${escapeHTML(keysCSV)}" placeholder="Chan, 1, Enter"/>
          </div>
          <div class="form-row" style="margin-top:8px">
            <label style="min-width:90px">Niveau</label>
            <select name="level">
              <option ${obj.level==='basic'?'selected':''} value="basic">basic</option>
              <option ${obj.level==='advanced'?'selected':''} value="advanced">advanced</option>
              <option ${obj.level==='expert'?'selected':''} value="expert">expert</option>
            </select>
          </div>
        </form>
      `;
    }

    let currentModal = null;
    function buildModal({title, body, buttons=[]}){
      closeModal();
      const root = $('modalRoot');
      root.setAttribute('aria-hidden','false');
      const backdrop = document.createElement('div');
      backdrop.className = 'modal-backdrop';
      backdrop.addEventListener('click', (ev) => { if(ev.target === backdrop) closeModal(); });

      const modal = document.createElement('div');
      modal.className = 'modal';
      modal.role = 'dialog'; modal.ariaModal = 'true';
      modal.innerHTML = `
        <div class="header">
          <div style="display:flex;align-items:center;gap:12px">
            <strong style="font-size:16px">${title}</strong>
          </div>
          <div>
            <button class="small" data-action="close" title="Fermer">‚úï</button>
          </div>
        </div>
        <div class="body">${body}</div>
      `;

      const footer = document.createElement('div');
      footer.className = 'edit-actions';
      buttons.forEach(b => {
        const btn = document.createElement('button');
        btn.className = 'btn';
        btn.textContent = b.label;
        btn.addEventListener('click', (ev) => { try{ b.action(ev) } catch(e){ console.error(e) } });
        footer.appendChild(btn);
      });
      modal.appendChild(footer);
      backdrop.appendChild(modal);
      root.appendChild(backdrop);
      currentModal = backdrop;

      modal.querySelector('[data-action="close"]').addEventListener('click', closeModal);

      const firstInput = modal.querySelector('input,textarea,select,button');
      if(firstInput) firstInput.focus();

      return backdrop;
    }

    function closeModal(){
      const root = $('modalRoot');
      root.innerHTML = '';
      root.setAttribute('aria-hidden','true');
      currentModal = null;
    }

    function flashMessage(msg, timeout=1800){
      const el = document.createElement('div');
      el.style.position='fixed'; el.style.left='50%'; el.style.bottom='24px';
      el.style.transform='translateX(-50%)'; el.style.background='var(--card)'; el.style.border='1px solid var(--border)';
      el.style.padding='10px 14px'; el.style.borderRadius='10px'; el.style.zIndex='3000'; el.style.color='var(--text)';
      el.textContent = msg;
      document.body.appendChild(el);
      setTimeout(()=>{ el.style.transition='opacity .3s'; el.style.opacity='0'; setTimeout(()=>el.remove(),300) }, timeout);
    }

    function renderAllCommands(){
      const list = $('commandsList'); list.innerHTML = '';
      const flattened = [];
      Object.keys(dbState).forEach(cat => {
        Object.keys(dbState[cat]).forEach(sub => {
          (dbState[cat][sub]||[]).forEach(cmd => {
            flattened.push({cat, sub, cmd});
          });
        });
      });
      lastRenderedCommands = flattened.map(x => x.cmd);

      flattened.forEach((it, idx) => {
        const card = document.createElement('div');
        card.className = 'command-card'; card.tabIndex=0; card.dataset.index = idx;
        const keysHtml = (it.cmd.keys||[]).map(k => `<div class="eos-key ${keyClassFor(k)}">${escapeHTML(k)}</div>`).join('');
        card.innerHTML = `
          <div class="action-text">${escapeHTML(it.cmd.action)}</div>
          <div class="console-keys">${keysHtml}</div>
          <div class="cmd-syntax">${escapeHTML(it.cmd.cmd)}</div>
          <button class="more-actions" data-action="toggleMenu">‚ãØ</button>
          <div class="actions-menu" role="menu" aria-hidden="true">
            <button data-action="copy">Copier</button>
            <button data-action="edit">√âditer</button>
            <button data-action="delete">Supprimer</button>
          </div>
          <div style="position:absolute;left:12px;bottom:10px;color:var(--muted);font-size:12px">${escapeHTML(categoryLabels[it.cat]||it.cat)} ‚Ä∫ ${escapeHTML(it.sub)}</div>
        `;
        $('commandsList').appendChild(card);
      });

      if(flattened.length === 0){
        list.innerHTML = '<div style="padding:18px;color:var(--gray)">Aucune commande disponible.</div>';
      }
    }

    function init(){
      renderCategories();
      const hint = document.createElement('div');
      hint.style.position='fixed'; hint.style.right='12px'; hint.style.bottom='12px'; hint.style.padding='8px 10px';
      hint.style.borderRadius='8px'; hint.style.background='var(--card)'; hint.style.border='1px solid var(--border)';
      hint.style.color='var(--gray)'; hint.style.fontSize='13px'; hint.textContent='Raccourci: "/" pour rechercher';
      document.body.appendChild(hint);
      setTimeout(()=>hint.style.opacity='0',6000);
    }

    init();

    window._eos = { dbState, persistDB, renderCategories, renderCommands, renderSubcategories };
  </script>
</body>
</html>
