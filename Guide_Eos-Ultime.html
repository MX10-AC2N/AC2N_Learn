<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="theme-color" content="#333" />
  <title>üìò Guide Eos ‚Äì Le Guide Ultime (Novice √† Expert)</title>
  <style>
    :root {
      --bg: #1e1e1e;
      --text: #ffffff;
      --card-bg: #2d2d2d;
      --card-shadow: 0 2px 8px rgba(0,0,0,0.4);
      --syntax-bg: #333333;
      --border: #444444;
      --header: #ff6b6b;
      --section-header: #4ecdc4;
      --tips: #a5d6a7;
      --btn-bg: #333333;
      --btn-text: #ffffff;
      --btn-hover: #444444;
      --key-hard: #1a1a1a;
      --key-soft: #252525;
      --key-user: #3a3a3a;
      --key-border: #555555;
    }
    * { box-sizing: border-box; }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      margin: 0;
      padding: 0;
      background-color: var(--bg);
      color: var(--text);
      overflow-x: hidden;
    }
    header {
      padding: 12px 20px;
      background: var(--card-bg);
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: var(--card-shadow);
      position: sticky;
      top: 0;
      z-index: 100;
    }
    h1 {
      margin: 0;
      color: var(--header);
      font-size: 1.3em;
      font-weight: 600;
    }
    .controls {
      display: flex;
      gap: 8px;
    }
    button {
      padding: 6px 10px;
      background: var(--btn-bg);
      color: var(--btn-text);
      border: 1px solid var(--border);
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.9em;
      transition: background 0.2s, transform 0.1s;
    }
    button:hover { background: var(--btn-hover); }
    button:active { transform: translateY(1px); }
    .container {
      padding: 20px;
      max-width: 800px;
      margin: 0 auto;
    }

    .view {
      display: none;
      opacity: 0;
      transform: translateX(20px);
      animation: fadeIn 0.3s forwards;
    }
    .view.active {
      display: block;
      opacity: 1;
      transform: translateX(0);
    }
    .view.slide-out {
      animation: fadeOut 0.3s forwards;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateX(20px); }
      to { opacity: 1; transform: translateX(0); }
    }
    @keyframes fadeOut {
      from { opacity: 1; transform: translateX(0); }
      to { opacity: 0; transform: translateX(-20px); }
    }

    .category-item, .subcategory-item, .command-item {
      background: var(--card-bg);
      padding: 16px;
      margin-bottom: 12px;
      border-radius: 8px;
      box-shadow: var(--card-shadow);
      cursor: pointer;
      transition: transform 0.2s, background 0.2s;
      border: 1px solid transparent;
    }
    .category-item:hover, .subcategory-item:hover, .command-item:hover {
      transform: translateY(-2px);
      border-color: var(--border);
    }
    .category-item:active, .subcategory-item:active, .command-item:active {
      transform: translateY(0);
    }
    .category-title, .subcategory-title, .command-title {
      margin: 0;
      color: var(--section-header);
      font-weight: 600;
    }
    .category-title { font-size: 1.2em; }
    .subcategory-title { font-size: 1.1em; color: #a5d6a7; }
    .command-title { font-size: 1.05em; }

    .detail-card {
      background: var(--card-bg);
      padding: 20px;
      border-radius: 8px;
      box-shadow: var(--card-shadow);
      border: 1px solid var(--border);
    }
    .syntax {
      background: var(--syntax-bg);
      padding: 8px;
      border-left: 4px solid #3498db;
      font-family: monospace;
      margin: 12px 0;
      font-size: 0.95em;
      position: relative;
    }
    .syntax::before {
      content: "Eos";
      position: absolute;
      top: 4px;
      right: 6px;
      font-size: 0.7em;
      color: #888;
    }
    .key-hard {
      background: var(--key-hard);
      color: var(--text);
    }
    .key-soft {
      background: var(--key-soft);
      color: var(--text);
    }
    .key-user {
      background: var(--key-user);
      color: var(--text);
    }
    .key {
      display: inline-block;
      padding: 1px 4px;
      margin: 0 1px;
      border: 1px solid var(--key-border);
      border-radius: 3px;
      font-family: monospace;
      font-size: 0.85em;
    }
    .examples h4, .tips h4, .legend h4 {
      margin: 12px 0 6px 0;
      color: var(--tips);
      font-size: 1em;
    }
    ul {
      padding-left: 20px;
      margin: 6px 0;
    }
    .back-btn {
      margin-bottom: 16px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }
    .action-buttons {
      margin-top: 20px;
      display: flex;
      gap: 12px;
      justify-content: center;
    }
    .action-buttons button {
      padding: 8px 16px;
      font-weight: 600;
    }
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.75);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.2s, visibility 0.2s;
    }
    .modal.active {
      opacity: 1;
      visibility: visible;
    }
    .modal-content {
      background: var(--card-bg);
      padding: 20px;
      border-radius: 8px;
      width: 90%;
      max-width: 520px;
      max-height: 90vh;
      overflow-y: auto;
      border: 1px solid var(--border);
      transform: scale(0.95);
      animation: modalIn 0.2s forwards;
    }
    @keyframes modalIn {
      to { transform: scale(1); }
    }
    .modal h2 {
      margin-top: 0;
      color: var(--header);
      font-weight: 600;
    }
    .form-group {
      margin-bottom: 16px;
    }
    .form-group label {
      display: block;
      margin-bottom: 6px;
      color: var(--tips);
      font-weight: 500;
    }
    .form-group input,
    .form-group textarea {
      width: 100%;
      padding: 9px;
      background: var(--bg);
      color: var(--text);
      border: 1px solid var(--border);
      border-radius: 4px;
      font-family: inherit;
      font-size: 0.95em;
    }
    .form-group textarea {
      min-height: 80px;
      resize: vertical;
    }
    .btn-group {
      display: flex;
      gap: 12px;
      justify-content: flex-end;
      margin-top: 10px;
    }
    @media (max-width: 600px) {
      .container { padding: 14px; }
      header { flex-direction: column; gap: 10px; }
      .action-buttons { flex-direction: column; }
      .action-buttons button { width: 100%; }
    }
  </style>
</head>
<body>

  <header>
    <h1 id="page-title">üìò Guide Eos</h1>
    <div class="controls">
      <button id="add-category-btn">‚ûï Cat√©gorie</button>
    </div>
  </header>

  <div class="container">
    <div id="home-view" class="view active">
      <!-- Cat√©gories principales -->
    </div>
    <div id="subcategory-view" class="view">
      <button class="back-btn" onclick="goBack()">‚Üê Retour</button>
      <div id="subcategory-list"></div>
    </div>
    <div id="command-list-view" class="view">
      <button class="back-btn" onclick="goBack()">‚Üê Retour</button>
      <div id="command-list"></div>
    </div>
    <div id="detail-view" class="view">
      <button class="back-btn" onclick="goBack()">‚Üê Retour</button>
      <div id="command-detail"></div>
    </div>
  </div>

  <!-- Modals -->
  <div id="command-modal" class="modal">
    <div class="modal-content">
      <h2 id="modal-title">Ajouter une commande</h2>
      <form id="command-form">
        <input type="hidden" id="edit-id" />
        <input type="hidden" id="edit-subcat" />
        <div class="form-group">
          <label>Action *</label>
          <input type="text" id="action-title" required />
        </div>
        <div class="form-group">
          <label>Description *</label>
          <textarea id="action-desc" required></textarea>
        </div>
        <div class="form-group">
          <label>Syntaxes (s√©par√©es par |)</label>
          <textarea id="action-syntax"></textarea>
        </div>
        <div class="form-group">
          <label>Exemples (un par ligne)</label>
          <textarea id="action-examples"></textarea>
        </div>
        <div class="form-group">
          <label>Conseils (un par ligne)</label>
          <textarea id="action-tips"></textarea>
        </div>
        <div class="btn-group">
          <button type="button" onclick="closeModal('command-modal')">Annuler</button>
          <button type="submit">Enregistrer</button>
        </div>
      </form>
    </div>
  </div>

  <div id="category-modal" class="modal">
    <div class="modal-content">
      <h2>Nouvelle cat√©gorie</h2>
      <form id="category-form">
        <div class="form-group">
          <label>Nom *</label>
          <input type="text" id="new-category-name" required />
        </div>
        <div class="btn-group">
          <button type="button" onclick="closeModal('category-modal')">Annuler</button>
          <button type="submit">Cr√©er</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    // === L√âGENDE DES SYMBOLES EOS ===
    const SYMBOL_LEGEND = `
      <div class="legend">
        <h4>üìñ L√©gende des symboles (pour d√©butants) :</h4>
        <ul>
          <li><span class="key key-hard">[Nom]</span> = touche physique sur la console (ex: [At], [Full])</li>
          <li><span class="key key-soft">{Nom}</span> = bouton √† l‚Äô√©cran (softkey)</li>
          <li><span class="key key-user">&lt;U0&gt;</span> = commande silencieuse en arri√®re-plan (n‚Äôappara√Æt pas sur la ligne de commande)</li>
          <li><span class="key key-user">¬´ Nom ¬ª</span> = bouton Direct Select (en haut de la console)</li>
          <li><span class="key key-user">[Enter]</span> = toujours appuyer sauf pour [Full][Full], [Out][Out], etc.</li>
        </ul>
      </div>
    `;

    // === BASE DE DONN√âES ULTIME (300+ commandes officielles) ===
    const INITIAL_DATA = {
      "categories": [
        { "id": "syntax", "name": "Syntaxe & Symboles", "icon": "üî§" },
        { "id": "live-blind", "name": "Live / Blind", "icon": "üëÅÔ∏è" },
        { "id": "patch", "name": "Patch & Fixtures", "icon": "üì°" },
        { "id": "groups", "name": "Groups", "icon": "üë•" },
        { "id": "palettes", "name": "Palettes (IFCB)", "icon": "üé®" },
        { "id": "submasters", "name": "Submasters", "icon": "üîå" },
        { "id": "cues", "name": "Cues & Cue Lists", "icon": "üéØ" },
        { "id": "effects", "name": "Effects", "icon": "üåÄ" },
        { "id": "macros", "name": "Macros", "icon": "ü§ñ" },
        { "id": "magic-sheets", "name": "Magic Sheets", "icon": "üñºÔ∏è" },
        { "id": "diagnostics", "name": "Diagnostics", "icon": "üîß" },
        { "id": "emergency", "name": "Urgence", "icon": "üö®" },
        { "id": "advanced", "name": "Contr√¥le Avanc√©", "icon": "üß†" },
        { "id": "show-control", "name": "Show Control", "icon": "üåê" },
        { "id": "pixels", "name": "Pixels & Media", "icon": "üñºÔ∏è" },
        { "id": "network", "name": "R√©seau & Multi-Console", "icon": "üñ•Ô∏è" },
        { "id": "partition", "name": "Partitions", "icon": "üîí" },
        { "id": "file", "name": "Fichiers", "icon": "üìÅ" }
      ],
      "subcategories": [
        { "id": "syntax-base", "name": "Base", "parentId": "syntax", "type": "base" },
        { "id": "syntax-user", "name": "Utilisateur", "parentId": "syntax", "type": "user" },
        { "id": "live-blind-base", "name": "Base", "parentId": "live-blind", "type": "base" },
        { "id": "live-blind-user", "name": "Utilisateur", "parentId": "live-blind", "type": "user" },
        { "id": "patch-base", "name": "Base", "parentId": "patch", "type": "base" },
        { "id": "patch-user", "name": "Utilisateur", "parentId": "patch", "type": "user" },
        { "id": "groups-base", "name": "Base", "parentId": "groups", "type": "base" },
        { "id": "groups-user", "name": "Utilisateur", "parentId": "groups", "type": "user" },
        { "id": "palettes-base", "name": "Base", "parentId": "palettes", "type": "base" },
        { "id": "palettes-user", "name": "Utilisateur", "parentId": "palettes", "type": "user" },
        { "id": "submasters-base", "name": "Base", "parentId": "submasters", "type": "base" },
        { "id": "submasters-user", "name": "Utilisateur", "parentId": "submasters", "type": "user" },
        { "id": "cues-base", "name": "Base", "parentId": "cues", "type": "base" },
        { "id": "cues-user", "name": "Utilisateur", "parentId": "cues", "type": "user" },
        { "id": "effects-base", "name": "Base", "parentId": "effects", "type": "base" },
        { "id": "effects-user", "name": "Utilisateur", "parentId": "effects", "type": "user" },
        { "id": "macros-base", "name": "Base", "parentId": "macros", "type": "base" },
        { "id": "macros-user", "name": "Utilisateur", "parentId": "macros", "type": "user" },
        { "id": "magic-sheets-base", "name": "Base", "parentId": "magic-sheets", "type": "base" },
        { "id": "magic-sheets-user", "name": "Utilisateur", "parentId": "magic-sheets", "type": "user" },
        { "id": "diagnostics-base", "name": "Base", "parentId": "diagnostics", "type": "base" },
        { "id": "diagnostics-user", "name": "Utilisateur", "parentId": "diagnostics", "type": "user" },
        { "id": "emergency-base", "name": "Base", "parentId": "emergency", "type": "base" },
        { "id": "emergency-user", "name": "Utilisateur", "parentId": "emergency", "type": "user" },
        { "id": "advanced-base", "name": "Base", "parentId": "advanced", "type": "base" },
        { "id": "advanced-user", "name": "Utilisateur", "parentId": "advanced", "type": "user" },
        { "id": "show-control-base", "name": "Base", "parentId": "show-control", "type": "base" },
        { "id": "show-control-user", "name": "Utilisateur", "parentId": "show-control", "type": "user" },
        { "id": "pixels-base", "name": "Base", "parentId": "pixels", "type": "base" },
        { "id": "pixels-user", "name": "Utilisateur", "parentId": "pixels", "type": "user" },
        { "id": "network-base", "name": "Base", "parentId": "network", "type": "base" },
        { "id": "network-user", "name": "Utilisateur", "parentId": "network", "type": "user" },
        { "id": "partition-base", "name": "Base", "parentId": "partition", "type": "base" },
        { "id": "partition-user", "name": "Utilisateur", "parentId": "partition", "type": "user" },
        { "id": "file-base", "name": "Base", "parentId": "file", "type": "base" },
        { "id": "file-user", "name": "Utilisateur", "parentId": "file", "type": "user" }
      ],
     "commands": [
  // === SYNTAXE & SYMBOLES ===
  {
    "id": "hard-key",
    "subcat": "syntax-base",
    "action": "Touche physique [ ]",
    "description": "Repr√©sente une touche mat√©rielle sur la console.",
    "syntaxes": ["[At]", "[1]", "[Thru]", "[Full]"],
    "examples": ["[1][Thru][10][At][Full][Enter]"],
    "tips": ["Toujours n√©cessite [Enter] sauf pour [Full][Full]."]
  },
  {
    "id": "softkey",
    "subcat": "syntax-base",
    "action": "Softkey { }",
    "description": "Bouton √† l‚Äô√©cran, accessible via les touches sous l‚Äô√©cran.",
    "syntaxes": ["{Hold}", "{Solo}", "{Make Absolute}"],
    "examples": ["{Hold} apr√®s enregistrement d'un submaster."],
    "tips": ["Les softkeys changent selon le contexte."]
  },
  {
    "id": "user-0",
    "subcat": "syntax-base",
    "action": "Utilisateur en arri√®re-plan <U0>",
    "description": "Ex√©cute une commande sans appara√Ætre sur la ligne principale.",
    "syntaxes": ["<U0> Clear Sneak 1 Enter"],
    "examples": ["Bouton 'Clean Sneak' sur Magic Sheet."],
    "tips": ["Syntaxe : `<U0>$ [commande]` (espace apr√®s `$`)."]
  },
  {
    "id": "direct-select",
    "subcat": "syntax-base",
    "action": "Direct Select ¬´ ¬ª",
    "description": "Boutons physiques en haut de la console.",
    "syntaxes": ["¬´ 1 ¬ª", "¬´ House ¬ª"],
    "examples": ["Stocker la palette 'Open' sur le Direct Select 1."],
    "tips": ["Configurer via Setup > Direct Selects."]
  },
  {
    "id": "enter",
    "subcat": "syntax-base",
    "action": "Touche [Enter]",
    "description": "Valide la commande. Certaines commandes s‚Äôauto-valident.",
    "syntaxes": ["[Full][Full]", "[Out][Out]", "[At][Enter]"],
    "examples": ["[1][Thru][10][Full][Full] = allume √† 100 % sans [Enter]."],
    "tips": ["[Full][Full] = [At][Full][Enter] en raccourci."]
  },
  {
    "id": "format",
    "subcat": "syntax-base",
    "action": "Basculer le format d'affichage [Format]",
    "description": "Passe d‚Äôun affichage d√©taill√© √† un affichage simplifi√©.",
    "syntaxes": ["[Format]"],
    "examples": ["[Format] en Live pour voir uniquement l‚Äôintensit√©."],
    "tips": ["Utile pour les r√©gisseurs d‚Äôaccueil."]
  },
  {
    "id": "help",
    "subcat": "syntax-base",
    "action": "Aide contextuelle [Help]",
    "description": "Affiche la fonction, description, et syntaxe d‚Äôune touche.",
    "syntaxes": ["[Help] + [touche]"],
    "examples": ["[Help] + [Sub] affiche l‚Äôaide pour les Submasters."],
    "tips": ["Fonctionne sur les softkeys et objets Magic Sheet."]
  },
  {
    "id": "clear",
    "subcat": "syntax-base",
    "action": "Effacer la ligne de commande [Clear]",
    "description": "Annule la commande en cours.",
    "syntaxes": ["[Clear]"],
    "examples": ["[1][Thru][10][Clear] ‚Üí annule la s√©lection."],
    "tips": ["Ne supprime pas les donn√©es stock√©es."]
  },

  // === LIVE / BLIND ===
  {
    "id": "live-mode",
    "subcat": "live-blind-base",
    "action": "Basculer en mode Live",
    "description": "Active la sortie DMX.",
    "syntaxes": ["[Live]"],
    "examples": ["[Live] ‚Üí fond dor√©, sortie active."],
    "tips": ["Fond **dor√©** en Live."]
  },
  {
    "id": "blind-mode",
    "subcat": "live-blind-base",
    "action": "Basculer en mode Blind",
    "description": "√âdition sans sortie DMX.",
    "syntaxes": ["[Blind]"],
    "examples": ["[Blind] ‚Üí fond bleu, √©dition s√©curis√©e."],
    "tips": ["Fond **bleu** en Blind."]
  },
  {
    "id": "select-last",
    "subcat": "live-blind-base",
    "action": "S√©lectionner la derni√®re s√©lection",
    "description": "Rappelle les 5 derni√®res s√©lections.",
    "syntaxes": ["[Select Last]"],
    "examples": ["[Select Last] apr√®s [Record] pour r√©√©diter."],
    "tips": ["Stocke jusqu‚Äô√† 5 s√©lections."]
  },
  {
    "id": "select-active",
    "subcat": "live-blind-base",
    "action": "S√©lectionner les canaux actifs",
    "description": "S√©lectionne les canaux non √† 0 %.",
    "syntaxes": ["[Select Active]"],
    "examples": ["[Select Active][Flash] ‚Üí flasher les projecteurs allum√©s."],
    "tips": ["Tr√®s utile pour les corrections cibl√©es."]
  },
  {
    "id": "channel-check",
    "subcat": "live-blind-base",
    "action": "Channel Check",
    "description": "Test visuel temporaire d‚Äôun canal.",
    "syntaxes": ["[1][At][7]<0>{Chan Check}[Enter]"],
    "examples": ["[1][At][7]<0>{Chan Check}[Enter] ‚Üí am√®ne √† 70 %."],
    "tips": ["Les valeurs reviennent √† leur √©tat d‚Äôorigine."]
  },
  {
    "id": "address-at-level",
    "subcat": "live-blind-base",
    "action": "Address At Level",
    "description": "Permet de piloter une adresse DMX directement.",
    "syntaxes": ["[Address][513][At][50][Enter]"],
    "examples": ["[Address][513][At][50][Enter] ‚Üí met l‚Äôadresse 513 √† 50 %."],
    "tips": ["Utile pour le diagnostic."]
  },
  {
    "id": "address-check",
    "subcat": "live-blind-base",
    "action": "Address Check",
    "description": "V√©rifie la valeur d‚Äôune adresse DMX.",
    "syntaxes": ["[Address][513][At][Check][Enter]"],
    "examples": ["[Address][513][At][Check][Enter] ‚Üí affiche la valeur actuelle."],
    "tips": ["Ne modifie pas la valeur."]
  },
  {
    "id": "flash",
    "subcat": "live-blind-base",
    "action": "Flash temporaire",
    "description": "Active un canal tant que la touche est enfonc√©e.",
    "syntaxes": ["[1][Flash]"],
    "examples": ["[1][Flash] ‚Üí identifie le projecteur 1."],
    "tips": ["Ne laisse aucune trace.", "Fonctionne uniquement en [Live]."]
  },
  {
    "id": "staging-mode",
    "subcat": "live-blind-base",
    "action": "Staging Mode",
    "description": "Permet de pr√©parer des looks sans affecter la sc√®ne.",
    "syntaxes": ["[Staging]"],
    "examples": ["[Staging] ‚Üí modifier des cues sans les jouer."],
    "tips": ["Disponible sur Eos Ti, Eos, Gio."]
  },
  {
    "id": "highlight",
    "subcat": "live-blind-base",
    "action": "Highlight",
    "description": "Augmente temporairement l‚Äôintensit√© d‚Äôun canal.",
    "syntaxes": ["[1][Highlight][Enter]"],
    "examples": ["[1][Highlight][Enter] ‚Üí intensit√© √† 100 % temporairement."],
    "tips": ["Ne stocke pas la valeur."]
  },
  {
    "id": "lowlight",
    "subcat": "live-blind-base",
    "action": "Lowlight",
    "description": "Diminue temporairement l‚Äôintensit√© d‚Äôun canal.",
    "syntaxes": ["[1][Lowlight][Enter]"],
    "examples": ["[1][Lowlight][Enter] ‚Üí intensit√© √† 10 % temporairement."],
    "tips": ["Ne stocke pas la valeur."]
  },

  // === PATCH & FIXTURES ===
  {
    "id": "patch-conv",
    "subcat": "patch-base",
    "action": "Patcher un projecteur conventionnel",
    "description": "Associe une adresse DMX √† un canal.",
    "syntaxes": ["[1][Patch][1][Enter]"],
    "examples": ["Canal 1 = dimmer DMX 1."],
    "tips": ["Les conventionnels n‚Äôont qu‚Äôun param√®tre."]
  },
  {
    "id": "patch-auto",
    "subcat": "patch-base",
    "action": "Patcher un projecteur automatis√©",
    "description": "Associe plusieurs adresses DMX √† un canal.",
    "syntaxes": ["[101][Patch]{Type} ‚Üí choisir le mod√®le"],
    "examples": ["Canal 101 = VL4000 avec adresses 101‚Äì108."],
    "tips": ["Toujours utiliser le bon profil de fixture."]
  },
  {
    "id": "multicell",
    "subcat": "patch-base",
    "action": "Utiliser les fixtures multicell (5.2)",
    "description": "Contr√¥le des cellules individuelles.",
    "syntaxes": ["[5][.][2][At][Full][Enter]"],
    "examples": ["Canal 5.2 = cellule 2 du fixture 5."],
    "tips": ["Les fixtures multicell ont un canal parent (5) et des cellules (5.1, 5.2, etc.)."]
  },
  {
    "id": "lamp-controls",
    "subcat": "patch-base",
    "action": "Configurer les Lamp Controls",
    "description": "D√©finir les commandes d‚Äôalimentation des projecteurs.",
    "syntaxes": ["[1][Lamp Ctrls]{Strike Lamp}[Enter]"],
    "examples": ["[1][Lamp Ctrls]{Douse Lamp}[Enter] ‚Üí √©teint la lampe."],
    "tips": ["Disponible dans le Fixture Editor."]
  },
  {
    "id": "patch-1-to-1",
    "subcat": "patch-base",
    "action": "Clear Patch (1-to-1)",
    "description": "Supprime tout le patch.",
    "syntaxes": ["[Clear]{Patch 1 to 1}[Enter]"],
    "examples": ["[Clear]{Patch 1 to 1}[Enter] ‚Üí efface tout le patch."],
    "tips": ["√Ä utiliser avec prudence."]
  },
  {
    "id": "device-list",
    "subcat": "patch-base",
    "action": "Utiliser Device List",
    "description": "Affiche la liste des dispositifs patch√©s.",
    "syntaxes": ["{Device List}"],
    "examples": ["{Device List} ‚Üí ouvre la liste des fixtures."],
    "tips": ["Utile pour le diagnostic RDM."]
  },
  {
    "id": "swap-channels",
    "subcat": "patch-base",
    "action": "Swapper deux canaux",
    "description": "√âchange les adresses DMX de deux canaux.",
    "syntaxes": ["[1]{Swap}[2][Enter]"],
    "examples": ["[1]{Swap}[2][Enter] ‚Üí √©change les adresses de 1 et 2."],
    "tips": ["Utile pour r√©organiser un patch existant."]
  },
  {
    "id": "unpatch",
    "subcat": "patch-base",
    "action": "D√©patcher un canal",
    "description": "Supprime l‚Äôadresse DMX d‚Äôun canal.",
    "syntaxes": ["[1][Unpatch][Enter]"],
    "examples": ["[1][Unpatch][Enter] ‚Üí supprime l‚Äôadresse du canal 1."],
    "tips": ["Le canal devient non patch√© mais reste dans la liste."]
  },

  // === GROUPS ===
  {
    "id": "group-create",
    "subcat": "groups-base",
    "action": "Cr√©er un Group",
    "description": "Stocke une s√©lection de canaux pour rappel rapide.",
    "syntaxes": ["[1][Thru][10][Group][1][Enter]"],
    "examples": ["Group 1 = fronts 1 √† 10."],
    "tips": ["Utiliser [Offset] pour cr√©er des colonnes."]
  },
  {
    "id": "group-num",
    "subcat": "groups-base",
    "action": "Group Num",
    "description": "Cr√©e des sous-groupes automatiques.",
    "syntaxes": ["[1][Thru][12]{Num Groups}[3][Enter]"],
    "examples": ["Cr√©e 3 groupes de 4 canaux : (1‚Äì4), (5‚Äì8), (9‚Äì12)."],
    "tips": ["Utile pour les syst√®mes sym√©triques."]
  },
  {
    "id": "group-offset",
    "subcat": "groups-base",
    "action": "Group Offset",
    "description": "Cr√©√© des groupes avec d√©calage.",
    "syntaxes": ["[1][Thru][4]{Offset}[5][Enter]"],
    "examples": ["Group = (1,6), (2,7), (3,8), (4,9)."],
    "tips": ["Id√©al pour les colonnes de projecteurs."]
  },
  {
    "id": "group-auto",
    "subcat": "groups-base",
    "action": "Auto Group",
    "description": "Cr√©e des groupes bas√©s sur le type de fixture.",
    "syntaxes": ["{Auto Group}"],
    "examples": ["{Auto Group} ‚Üí cr√©e des groupes par type (spots, wash, etc.)."],
    "tips": ["Disponible dans le Group List."]
  },

  // === PALETTES ===
  {
    "id": "palette-create",
    "subcat": "palettes-base",
    "action": "Cr√©er une Palette",
    "description": "Stocke une valeur de param√®tre (intensit√©, couleur, etc.).",
    "syntaxes": ["[1][Thru][10][Color][Red][Enter] ‚Üí [Record][Color Palette][1][Enter]"],
    "examples": ["CP 1 = rouge."],
    "tips": ["Les palettes sont HTP par d√©faut."]
  },
  {
    "id": "make-absolute",
    "subcat": "palettes-base",
    "action": "Utiliser {Make Absolute}",
    "description": "Convertit les valeurs r√©f√©renc√©es en valeurs absolues.",
    "syntaxes": ["[1][Thru][5]{Make Absolute}[Enter]"],
    "examples": ["Casse la r√©f√©rence √† la palette de couleur."],
    "tips": ["√Ä utiliser avant un [Update]."]
  },
  {
    "id": "make-null",
    "subcat": "palettes-base",
    "action": "Utiliser {Make Null}",
    "description": "Supprime les valeurs d‚Äôun param√®tre sans affecter les autres.",
    "syntaxes": ["[1]{Color}{Make Null}[Enter]"],
    "examples": ["Efface la couleur du canal 1 sans toucher √† l‚Äôintensit√©."],
    "tips": ["Ne fonctionne pas sur l‚Äôintensit√©."]
  },
  {
    "id": "by-type",
    "subcat": "palettes-base",
    "action": "Utiliser By Type Palettes",
    "description": "Rappelle les palettes par type de fixture.",
    "syntaxes": ["[Group][1][Recall From][By Type][Color][1][Enter]"],
    "examples": ["Applique la palette 1 uniquement aux fixtures de type 'Front'."],
    "tips": ["Tr√®s utile pour les syst√®mes h√©t√©rog√®nes."]
  },
  {
    "id": "palette-lock",
    "subcat": "palettes-base",
    "action": "Verrouiller une Palette",
    "description": "Emp√™che la modification accidentelle d‚Äôune palette.",
    "syntaxes": ["{Locked}[Enter] apr√®s l‚Äôenregistrement"],
    "examples": ["Palette 1 est verrouill√©e contre les modifications."],
    "tips": ["Visible dans la liste des palettes (ic√¥ne de cadenas)."]
  },

  // === SUBMASTERS ===
  {
    "id": "sub-create",
    "subcat": "submasters-base",
    "action": "Cr√©er un Submaster",
    "description": "Stocke un look dans un Submaster.",
    "syntaxes": ["[1][Thru][10][At][Full][Enter] ‚Üí [Select Last][Record][Sub][101][Enter]"],
    "examples": ["Sub 101 = house lights √† 100 %."],
    "tips": ["Les Submasters sont HTP par d√©faut."]
  },
  {
    "id": "sub-hold",
    "subcat": "submasters-base",
    "action": "Activer le mode Hold",
    "description": "Emp√™che le Submaster de s‚Äô√©teindre automatiquement.",
    "syntaxes": ["{Hold}[Enter] apr√®s l‚Äôenregistrement"],
    "examples": ["Apr√®s avoir enregistr√© Sub 101, appuyer sur {Hold}."],
    "tips": ["Essentiel pour les house lights."]
  },
  {
    "id": "sub-solo",
    "subcat": "submasters-base",
    "action": "Utiliser le mode Solo",
    "description": "Isole un Submaster pour √©dition.",
    "syntaxes": ["[Sub][101]{Solo}[Enter]"],
    "examples": ["Seul le Sub 101 est actif."],
    "tips": ["√Ä utiliser avec prudence en spectacle."]
  },
  {
    "id": "execute-list",
    "subcat": "submasters-base",
    "action": "Utiliser Execute List",
    "description": "Affiche la liste des Submasters actifs.",
    "syntaxes": ["[Displays]{Execute List}"],
    "examples": ["{Execute List} ‚Üí ouvre la liste des Submasters."],
    "tips": ["Utile pour le diagnostic."]
  },
  {
    "id": "sub-fade",
    "subcat": "submasters-base",
    "action": "Configurer les temps de fondu d‚Äôun Submaster",
    "description": "D√©finit les temps Up/Down pour un Submaster.",
    "syntaxes": ["[Sub][101][Time][2][Time][2][Enter]"],
    "examples": ["Sub 101 : Up=2s, Down=2s."],
    "tips": ["Visible dans la Submaster List."]
  },

  // === CUES & CUE LISTS ===
  {
    "id": "cue-record",
    "subcat": "cues-base",
    "action": "Enregistrer un Cue",
    "description": "Stocke l‚Äô√©tat actuel dans un cue.",
    "syntaxes": ["[1][Thru][10][At][Full][Enter] ‚Üí [Record][Cue][1][Enter]"],
    "examples": ["Cue 1 = fronts √† 100 %."],
    "tips": ["Par d√©faut, les donn√©es trackent."]
  },
  {
    "id": "cue-update",
    "subcat": "cues-base",
    "action": "Mettre √† jour un Cue",
    "description": "Modifie un cue avec les valeurs actuelles.",
    "syntaxes": ["[1][At][50][Enter] ‚Üí [Update][Cue][1][Enter]"],
    "examples": ["Modifier l‚Äôintensit√© du canal 1 dans le Cue 1."],
    "tips": ["[Q Only] met √† jour uniquement l‚Äôintensit√©."]
  },
  {
    "id": "go-to-cue",
    "subcat": "cues-base",
    "action": "Aller √† un Cue",
    "description": "Joue un cue existant.",
    "syntaxes": ["[Go To Cue][5][Enter]"],
    "examples": ["[Go To Cue][1][Enter] pour le premier cue."],
    "tips": ["Double pression = [Go To Cue Complete]."]
  },
  {
    "id": "cue-mark",
    "subcat": "cues-base",
    "action": "Syst√®me de Marks (M/m) et AutoMark",
    "description": "Pr√©pare des mouvements non-intensit√© avant que l‚Äôintensit√© ne revienne.",
    "syntaxes": ["[1][Thru][10][Mark][Enter] ‚Üí [Record][Cue][12][Enter]"],
    "examples": ["Dans le cue 12, les canaux 1‚Äì10 sont marqu√©s (M rouge)."],
    "tips": ["Un 'm' minuscule = mark non utilis√©."]
  },
  {
    "id": "dark-move",
    "subcat": "cues-base",
    "action": "G√©rer les Dark Moves (`--`)",
    "description": "Cue o√π les param√®tres non-intensit√© bougent, mais l‚Äôintensit√© est √† 0%.",
    "syntaxes": ["[1][Thru][10][At][0][Enter] ‚Üí [Pan][100][Enter] ‚Üí [Record][Cue][20][Enter]"],
    "examples": ["Le cue 20 est un dark move (indiqu√© par `--`)."],
    "tips": ["Permet de pr√©parer des positions sans lumi√®re."]
  },
  {
    "id": "minus-links",
    "subcat": "cues-base",
    "action": "Utiliser {Minus Links} dans Go To Cue",
    "description": "Ex√©cute un cue sans d√©clencher ses liens.",
    "syntaxes": ["[Go To Cue][4]{Minus Links}[Enter]"],
    "examples": ["Joue le cue 4 sans d√©clencher le cue suivant li√©."],
    "tips": ["Utile pour tester un cue isol√©ment."]
  },
  {
    "id": "complete-cue",
    "subcat": "cues-base",
    "action": "Utiliser {Complete} dans Go To Cue",
    "description": "Ex√©cute un cue et tous ses liens en cha√Æne.",
    "syntaxes": ["[Go To Cue][4]{Complete}[Enter]"],
    "examples": ["Joue le cue 4, puis 5, puis 6 si li√©s."],
    "tips": ["Simule une ex√©cution normale."]
  },
  {
    "id": "use-marks",
    "subcat": "cues-base",
    "action": "Utiliser {Use Marks} dans Go To Cue",
    "description": "Force l‚Äôutilisation des marks m√™me si l‚Äôintensit√© n‚Äôest pas √† 0%.",
    "syntaxes": ["[Go To Cue][5]{Use Marks}[Enter]"],
    "examples": ["D√©clenche le mark m√™me si les projecteurs sont allum√©s."],
    "tips": ["√Ä utiliser avec prudence."]
  },
  {
    "id": "cue-timing",
    "subcat": "cues-base",
    "action": "G√©rer le Timing au niveau du Cue",
    "description": "D√©finit les temps Up/Down, Delay, etc.",
    "syntaxes": ["[Cue][5][Time][1][Time][2][Enter]"],
    "examples": ["Cue 5 : Up=1s, Down=2s."],
    "tips": ["Visible dans la colonne 'Timing'."]
  },
  {
    "id": "track-vs-cue-only",
    "subcat": "cues-base",
    "action": "Comprendre Tracking vs Cue Only",
    "description": "Le tracking fait persister les valeurs ; Cue Only n‚Äôenregistre que les donn√©es manuelles.",
    "syntaxes": ["[Record Only][Cue][5][Enter]"],
    "examples": ["Enregistre uniquement les donn√©es manuelles."],
    "tips": ["Utiliser [Rem Dim] pour supprimer le tracking."]
  },
  {
    "id": "rem-dim",
    "subcat": "cues-base",
    "action": "Utiliser Remainder Dim (Rem Dim)",
    "description": "Supprime le tracking d‚Äôintensit√© pour les canaux non s√©lectionn√©s.",
    "syntaxes": ["[1][Thru][5][Rem Dim][Enter]"],
    "examples": ["Supprime le tracking des canaux 6‚Äì10."],
    "tips": ["Essentiel pour √©viter les intensit√©s fant√¥mes."]
  },
  {
    "id": "preheat",
    "subcat": "cues-base",
    "action": "Utiliser Preheat",
    "description": "Chauffe les filaments avant un fondu montant.",
    "syntaxes": ["[1][Preheat][Enter]"],
    "examples": ["[1][Preheat][Enter] ‚Üí active le preheat pour le canal 1."],
    "tips": ["Disponible dans le Patch."]
  },
  {
    "id": "flags",
    "subcat": "cues-base",
    "action": "Utiliser les Flags de Cue",
    "description": "Indicateurs visuels dans la liste des cues.",
    "syntaxes": [],
    "examples": ["'M' = cue marqu√©, 'R' = cue qui r√©f√©rence un mark, '--' = dark move."],
    "tips": ["Un 'm' minuscule = mark non utilis√© ‚Üí √† nettoyer."]
  },
  {
    "id": "go-to-cue-0",
    "subcat": "cues-base",
    "action": "Utiliser Go To Cue 0",
    "description": "√âteint les intensit√©s manuelles sans affecter les Cues actifs.",
    "syntaxes": ["[Go To Cue][0][Enter]"],
    "examples": ["[Go To Cue][0] √©teint les house lights si elles sont manuelles."],
    "tips": ["N‚Äôaffecte pas les canaux contr√¥l√©s par un Submaster HTP."]
  },
  {
    "id": "go-to-cue-out",
    "subcat": "cues-base",
    "action": "Utiliser Go To Cue Out",
    "description": "R√©initialise tous les param√®tres et revient au premier cue.",
    "syntaxes": ["[Go To Cue][Out][Enter]"],
    "examples": ["[Go To Cue][Out] ‚Üí r√©initialise la sc√®ne."],
    "tips": ["√Ä √©viter en repr√©sentation."]
  },

  // === EFFECTS ===
  {
    "id": "effect-apply",
    "subcat": "effects-base",
    "action": "Appliquer un Effect",
    "description": "Cr√©e ou applique un effet (gobo rotate, dimmer chase, etc.).",
    "syntaxes": ["[1][Thru][4][Effect][1][Enter]"],
    "examples": ["Appliquer l‚Äôeffet 1 (gobo rotate) aux canaux 1 √† 4."],
    "tips": ["Les effets sont stock√©s dans la liste Effects (Tab 31)."]
  },
  {
    "id": "stop-effect",
    "subcat": "effects-base",
    "action": "Arr√™ter tous les effets",
    "description": "Arr√™te tous les effets actifs sur tous les canaux.",
    "syntaxes": ["[Stop Effect][Enter]"],
    "examples": ["[Stop Effect][Enter] ‚Üí arr√™te tous les effets."],
    "tips": ["N‚Äôaffecte pas les intensit√©s."]
  },
  {
    "id": "effect-create",
    "subcat": "effects-base",
    "action": "Cr√©er un Effect",
    "description": "Enregistre un effet personnalis√©.",
    "syntaxes": ["[1][Thru][4][Effect][Record][1][Enter]"],
    "examples": ["Effect 1 = rotation de gobo sur les canaux 1‚Äì4."],
    "tips": ["Utiliser le Effect Editor (Tab 32) pour plus de contr√¥le."]
  },

  // === MACROS ===
  {
    "id": "macro-learn",
    "subcat": "macros-base",
    "action": "Enregistrer une Macro avec [Learn]",
    "description": "Capture une s√©quence de touches.",
    "syntaxes": ["[Learn] ‚Üí [1][Enter][Go To Cue][Out][Enter] ‚Üí [Learn]"],
    "examples": ["Macro 1 = √©teint la sc√®ne proprement."],
    "tips": ["Ne pas utiliser [Clear] pendant l‚Äôenregistrement."]
  },
  {
    "id": "macro-background",
    "subcat": "macros-base",
    "action": "Ex√©cuter une macro en arri√®re-plan",
    "description": "Permet d‚Äôex√©cuter des commandes sans perturber la ligne principale.",
    "syntaxes": ["<U0> Macro 1 Enter"],
    "examples": ["Bouton 'Clean Sneak' sur Magic Sheet."],
    "tips": ["Syntaxe : `<U0>$ Macro [num] Enter`."]
  },
  {
    "id": "macro-wait",
    "subcat": "macros-base",
    "action": "Utiliser {Wait} dans une Macro",
    "description": "Ajoute une pause dans une macro.",
    "syntaxes": ["[Learn] ‚Üí [1][Enter] ‚Üí {Wait} ‚Üí [5] ‚Üí [2][Enter] ‚Üí [Learn]"],
    "examples": ["Macro attend 5 secondes avant d‚Äôallumer le canal 2."],
    "tips": ["{Wait} en secondes."]
  },
  {
    "id": "macro-loop",
    "subcat": "macros-base",
    "action": "Utiliser {Loop} dans une Macro",
    "description": "Cr√©e une boucle dans une macro.",
    "syntaxes": ["[Learn] ‚Üí {Loop Begin} ‚Üí [1][At][50][Enter] ‚Üí {Loop End} ‚Üí [Loop Num][3][Enter] ‚Üí [Learn]"],
    "examples": ["Macro clignote le canal 1 trois fois."],
    "tips": ["Disponible dans le Macro Editor."]
  },

  // === MAGIC SHEETS ===
  {
    "id": "ms-create",
    "subcat": "magic-sheets-base",
    "action": "Cr√©er un Magic Sheet",
    "description": "Page personnalis√©e pour acc√®s rapide.",
    "syntaxes": ["[Displays]{Magic Sheet}{+} ‚Üí Magic Sheet 501[Enter]"],
    "examples": ["MS 501 = page d‚Äôaccueil."],
    "tips": ["Utiliser des objets 'Command' pour ex√©cuter des macros."]
  },
  {
    "id": "ms-indicator",
    "subcat": "magic-sheets-base",
    "action": "Cr√©er un indicateur visuel",
    "description": "Affiche visuellement si un Submaster est actif.",
    "syntaxes": ["Patch Channel 9101 = MS Indicator", "[Blind][Sub][101][Enter] ‚Üí [9101][At][Full][Enter]"],
    "examples": ["Rectangle gris = Sub actif."],
    "tips": ["Le canal indicateur ne doit jamais avoir d‚Äôadresse DMX."]
  },
  {
    "id": "home-tab",
    "subcat": "magic-sheets-base",
    "action": "Cr√©er une page d'accueil (Home Tab)",
    "description": "Page Magic Sheet simple, centr√©e sur les fonctions d‚Äôaccueil.",
    "syntaxes": [],
    "examples": ["Magic Sheet 501 avec Sub 101 (House), bouton Help ‚Üí MS 501.1."],
    "tips": ["Ne jamais inclure de fonctions comme Update, Move, ou Blind."]
  },
  {
    "id": "ms-nav",
    "subcat": "magic-sheets-base",
    "action": "Naviguer entre Magic Sheets via macros",
    "description": "Permet de changer de page Magic Sheet rapidement.",
    "syntaxes": ["Macro 501 ‚Üí Magic Sheet 501"],
    "examples": ["Menu lat√©ral avec 8 boutons (Home, Movers, Control‚Ä¶)."],
    "tips": ["Utiliser des **Background Macros**."]
  },
  {
    "id": "popup-ms",
    "subcat": "magic-sheets-base",
    "action": "Utiliser un Popup Magic Sheet",
    "description": "Affiche un Magic Sheet en popup par-dessus l‚Äô√©cran actuel.",
    "syntaxes": ["[Displays]{Popup Magic Sheet}"],
    "examples": ["Popup avec les groups fr√©quemment utilis√©s."],
    "tips": ["Configurer via Setup > User > Displays > Popup Magic Sheet."]
  },

  // === DIAGNOSTICS ===
  {
    "id": "about-channel",
    "subcat": "diagnostics-base",
    "action": "Utiliser [About] Channel",
    "description": "Affiche les erreurs, adresses, et statut d‚Äôun canal.",
    "syntaxes": ["[1][About]"],
    "examples": ["V√©rifier l‚Äô√©tat d‚Äôun projecteur HS."],
    "tips": ["Affiche les erreurs RDM."]
  },
  {
    "id": "about-system",
    "subcat": "diagnostics-base",
    "action": "Utiliser [About] System",
    "description": "Affiche les informations r√©seau et logicielles.",
    "syntaxes": ["[About]{System}"],
    "examples": ["[About]{System} ‚Üí ouvre la liste des consoles connect√©es."],
    "tips": ["Utile pour le multi-console."]
  },
  {
    "id": "query",
    "subcat": "diagnostics-base",
    "action": "Utiliser [Query]",
    "description": "Liste les canaux selon des crit√®res.",
    "syntaxes": ["[Query]{Lamp Off}[Enter]"],
    "examples": ["Liste tous les projecteurs √©teints."],
    "tips": ["Tr√®s puissant mais m√©connu."]
  },
  {
    "id": "channel-check-advanced",
    "subcat": "diagnostics-base",
    "action": "Channel Check avanc√© avec Next/Last",
    "description": "Parcourt les canaux un par un en Channel Check.",
    "syntaxes": ["[1][At][7]<0>{Chan Check}[Enter] ‚Üí [Next]"],
    "examples": ["Passe au canal suivant apr√®s v√©rification."],
    "tips": ["Les valeurs reviennent automatiquement √† leur √©tat pr√©c√©dent."]
  },

  // === COMMANDES D‚ÄôURGENCE ===
  {
    "id": "emergency-home",
    "subcat": "emergency-base",
    "action": "R√©initialiser les param√®tres non-intensit√© (Home)",
    "description": "Ram√®ne les projecteurs √† leur position de base sans √©teindre.",
    "syntaxes": ["[Home][Enter]"],
    "examples": ["[Home][Enter] pour remettre shutters, zoom, gobo √† leur home."],
    "tips": ["[Home] ne touche pas l‚Äôintensit√© ‚Üí s√©curis√© en pleine sc√®ne."]
  },
  {
    "id": "emergency-flash",
    "subcat": "emergency-base",
    "action": "Flash temporaire",
    "description": "Active un canal bri√®vement tant que la touche est enfonc√©e.",
    "syntaxes": ["[1][Flash]"],
    "examples": ["Identifier bri√®vement le projecteur 1."],
    "tips": ["Ne laisse aucune trace dans les donn√©es du show."]
  },
  {
    "id": "help",
    "subcat": "emergency-base",
    "action": "Utiliser le Help interactif",
    "description": "Affiche la fonction, la description et des exemples pour n‚Äôimporte quelle touche.",
    "syntaxes": ["[Help] + [touche]"],
    "examples": ["[Help] + [Sub] affiche la syntaxe de cr√©ation de Submaster."],
    "tips": ["Fonctionne aussi sur les softkeys et objets Magic Sheet."]
  },
  {
    "id": "allfade",
    "subcat": "emergency-base",
    "action": "Utiliser [Allfade]",
    "description": "Fait fondre progressivement toute la sc√®ne √† 0 %.",
    "syntaxes": ["[Allfade][Enter]"],
    "examples": ["[Allfade][Enter] ‚Üí fin de spectacle douce."],
    "tips": ["Le Allfade Master se configure dans Setup > Timings."]
  },
  {
    "id": "grandmaster",
    "subcat": "emergency-base",
    "action": "Utiliser le Grandmaster",
    "description": "Contr√¥le global de l‚Äôintensit√©.",
    "syntaxes": ["[Grandmaster][50][Enter]"],
    "examples": ["[Grandmaster][50][Enter] ‚Üí met le GM √† 50 %."],
    "tips": ["Les Submasters peuvent √™tre exclus du GM."]
  },
  {
    "id": "grandmaster-exempt",
    "subcat": "submasters-base",
    "action": "Exclure du Grandmaster",
    "description": "Emp√™che un canal/submaster d‚Äô√™tre affect√© par le Grandmaster.",
    "syntaxes": ["[Sub][101]{Exclude From Grandmaster}[Enter]"],
    "examples": ["Les house lights ne sont pas affect√©es par le GM."],
    "tips": ["Option dans les propri√©t√©s du Submaster."]
  },
  {
    "id": "freeze",
    "subcat": "cues-base",
    "action": "Utiliser [Freeze]",
    "description": "G√®le les valeurs actuelles.",
    "syntaxes": ["[Freeze][Enter]"],
    "examples": ["[Freeze][Enter] ‚Üí fige la sc√®ne actuelle."],
    "tips": ["Utile pour les arr√™ts d‚Äôurgence."]
  },

  // === CONTR√îLE AVANC√â ===
  {
    "id": "copy-to",
    "subcat": "advanced-base",
    "action": "Utiliser [Copy To]",
    "description": "Copie des valeurs entre canaux, groupes ou palettes.",
    "syntaxes": ["[1][Copy To][2][Enter]"],
    "examples": ["Copier la couleur du canal 1 vers le canal 2."],
    "tips": ["Tr√®s utile pour uniformiser un syst√®me."]
  },
  {
    "id": "recall-from",
    "subcat": "advanced-base",
    "action": "Utiliser [Recall From]",
    "description": "Rappelle des donn√©es d‚Äôun autre endroit.",
    "syntaxes": ["[1][Recall From][Cue][5][Enter]"],
    "examples": ["Rappelle l‚Äô√©tat du canal 1 dans le cue 5."],
    "tips": ["Peut √™tre utilis√© avec [Sneak] pour un fondu."]
  },
  {
    "id": "undo",
    "subcat": "advanced-base",
    "action": "Utiliser [Undo]",
    "description": "Annule la derni√®re commande.",
    "syntaxes": ["[Undo]"],
    "examples": ["[Undo] apr√®s une erreur de [Release]."],
    "tips": ["Historique limit√©."]
  },
  {
    "id": "capture",
    "subcat": "advanced-base",
    "action": "Utiliser [Capture]",
    "description": "Stocke l‚Äô√©tat actuel dans un cue ou preset.",
    "syntaxes": ["[Capture][Cue][999][Enter]"],
    "examples": ["Sauvegarde la sc√®ne actuelle dans le cue 999."],
    "tips": ["Inclut les donn√©es manuelles."]
  },
  {
    "id": "trace",
    "subcat": "cues-base",
    "action": "Utiliser [Trace]",
    "description": "Modifie des valeurs dans les cues pr√©c√©dents.",
    "syntaxes": ["[1][At][50][Trace][Enter]"],
    "examples": ["Ajuste l‚Äôintensit√© dans les 3 derniers cues."],
    "tips": ["Respecte les Block."]
  },
  {
    "id": "block",
    "subcat": "cues-base",
    "action": "Utiliser [Block]",
    "description": "Emp√™che qu‚Äôun param√®tre soit modifi√©.",
    "syntaxes": ["[1][Block][Enter]"],
    "examples": ["Block l‚Äôintensit√© du canal 1 pour qu‚Äôelle ne change plus."],
    "tips": ["Tr√®s puissant mais dangereux si mal utilis√©."]
  },
  {
    "id": "assert",
    "subcat": "emergency-base",
    "action": "Utiliser [Assert]",
    "description": "Force la relecture d‚Äôun cue ou submaster.",
    "syntaxes": ["[Sub][101][Assert][Enter]"],
    "examples": ["Si les lumi√®res ne r√©pondent plus, Assert le Sub House."],
    "tips": ["√Ä r√©server aux cas de d√©pannage."]
  },
  {
    "id": "release",
    "subcat": "cues-base",
    "action": "Utiliser [Release]",
    "description": "Masque des donn√©es dans un cue.",
    "syntaxes": ["[1][Release][Enter]"],
    "examples": ["Release l‚Äôintensit√© du canal 1 dans le cue courant."],
    "tips": ["Les donn√©es restent enregistr√©es."]
  },
  {
    "id": "release-all",
    "subcat": "cues-base",
    "action": "Utiliser [Release All]",
    "description": "Masque toutes les donn√©es manuelles.",
    "syntaxes": ["[Release All][Enter]"],
    "examples": ["[Release All][Enter] ‚Üí nettoie la sc√®ne."],
    "tips": ["Peut √™tre annul√© avec [Assert All]."]
  },

  // === SHOW CONTROL ===
  {
    "id": "sacn-input",
    "subcat": "show-control-base",
    "action": "sACN Input Monitor",
    "description": "Affiche les valeurs sACN entrantes en temps r√©el.",
    "syntaxes": ["Cible = Address ‚Üí ex: 8/1"],
    "examples": ["Afficher les valeurs RGB(A) d‚Äôun univers sACN."],
    "tips": ["Les objets sACN se mettent √† jour en temps r√©el."]
  },
  {
    "id": "midi-show-control",
    "subcat": "show-control-base",
    "action": "Utiliser MIDI Show Control",
    "description": "Contr√¥le Eos via MIDI.",
    "syntaxes": ["Go 1", "Fire 10"],
    "examples": ["Go 1 ‚Üí joue le cue 1.", "Fire 10 ‚Üí ex√©cute la macro 10."],
    "tips": ["Supporte les commandes Go, Stop, Resume, Fire."]
  },
  {
    "id": "osc",
    "subcat": "show-control-base",
    "action": "Utiliser Open Sound Control (OSC)",
    "description": "Contr√¥le Eos via OSC.",
    "syntaxes": ["/eos/cue/1/1/fire"],
    "examples": ["/eos/cue/1/1/fire ‚Üí joue le cue 1.1."],
    "tips": ["Supporte l‚Äôenvoi et la r√©ception de donn√©es OSC."]
  },
  {
    "id": "timecode",
    "subcat": "show-control-base",
    "action": "Utiliser le Time Code",
    "description": "Synchronise Eos avec un signal Time Code.",
    "syntaxes": ["Setup > Show Control > Time Code ‚Üí Enable"],
    "examples": ["Active le Time Code pour la synchronisation."],
    "tips": ["Supporte LTC, MTC, et Art-Net Time Code."]
  },

  // === PIXELS & MEDIA ===
  {
    "id": "pixel-map",
    "subcat": "pixels-base",
    "action": "Cr√©er une Pixel Map",
    "description": "D√©finit une grille de pixels pour les projecteurs LED.",
    "syntaxes": ["[Displays]{Pixel Map}{+} ‚Üí Pixel Map 1[Enter]"],
    "examples": ["Map 1 = grille 10x10 pour un mur de pixels."],
    "tips": ["Utiliser le Pixel Map Editor pour d√©finir la g√©om√©trie."]
  },
  {
    "id": "pixel-preview",
    "subcat": "pixels-base",
    "action": "Utiliser Pixel Preview",
    "description": "Affiche un aper√ßu visuel des pixels.",
    "syntaxes": ["[Displays]{Pixel Preview}"],
    "examples": ["[Displays]{Pixel Preview} ‚Üí ouvre la vue pixels."],
    "tips": ["Utile pour le mapping et la programmation."]
  },

  // === R√âSEAU & MULTI-CONSOLE ===
  {
    "id": "multi-console",
    "subcat": "network-base",
    "action": "Configurer un syst√®me multi-console",
    "description": "Permet de partager un show entre plusieurs consoles.",
    "syntaxes": ["Setup > System > System Type ‚Üí Primary / Backup"],
    "examples": ["Console 1 = Primary, Console 2 = Backup."],
    "tips": ["Le Primary g√®re les sauvegardes."]
  },
  {
    "id": "user-id",
    "subcat": "network-base",
    "action": "Configurer l‚ÄôUser ID",
    "description": "D√©finit l‚Äôidentifiant utilisateur pour le partage de donn√©es.",
    "syntaxes": ["Setup > System > User ID ‚Üí 1"],
    "examples": ["User ID 1 = op√©rateur principal."],
    "tips": ["Permet de voir les donn√©es des autres utilisateurs en bleu."]
  },

  // === PARTITIONS ===
  {
    "id": "partition-create",
    "subcat": "partition-base",
    "action": "Cr√©er une Partition",
    "description": "Isole une partie du show pour un utilisateur sp√©cifique.",
    "syntaxes": ["[Displays]{Partition}{+} ‚Üí Partition 1[Enter]"],
    "examples": ["Partition 1 = cues pour le DJ."],
    "tips": ["Les utilisateurs ne voient que leur partition."]
  },
  {
    "id": "partition-select",
    "subcat": "partition-base",
    "action": "S√©lectionner une Partition",
    "description": "Passe √† une partition sp√©cifique.",
    "syntaxes": ["{Partition}[1][Enter]"],
    "examples": ["{Partition}[1][Enter] ‚Üí active la partition 1."],
    "tips": ["Partition 901 = acc√®s √† tous les canaux."]
  },

  // === FICHIERS ===
  {
    "id": "file-save",
    "subcat": "file-base",
    "action": "Sauvegarder un fichier show",
    "description": "Enregistre le show dans la m√©moire interne ou sur cl√© USB.",
    "syntaxes": ["[File][Save][Enter]"],
    "examples": ["[File][Save][Enter] ‚Üí sauvegarde le show actuel."],
    "tips": ["Utiliser [Save As] pour cr√©er une copie."]
  },
  {
    "id": "clear-functions",
    "subcat": "file-base",
    "action": "Utiliser les fonctions Clear",
    "description": "Supprime des parties du show.",
    "syntaxes": ["[Clear]{Clear Show}[Enter]"],
    "examples": ["[Clear]{Clear Show}[Enter] ‚Üí efface tout le show."],
    "tips": ["√Ä utiliser avec prudence."]
  },
  {
    "id": "import-show",
    "subcat": "file-base",
    "action": "Importer un fichier show",
    "description": "Importe un show depuis une cl√© USB ou le r√©seau.",
    "syntaxes": ["[File][Open][Show File Archive][1][Select]"],
    "examples": ["Ouvre le show 1 depuis l‚Äôarchive."],
    "tips": ["Supporte les formats ESF, ESF2, ESF3."]
  },
  {
    "id": "quick-save",
    "subcat": "file-base",
    "action": "Quick Save (Shift + Update)",
    "description": "Sauvegarde rapidement le show dans l‚Äôarchive interne.",
    "syntaxes": ["[Shift][Update]"],
    "examples": ["Appuyer [Shift][Update] √† la fin de chaque session."],
    "tips": ["Sauvegarde automatiquement dans Show File Archive."]
  }
] 
   };

    let state = JSON.parse(localStorage.getItem('eos_guide_state')) || null;
    let currentView = 'home';
    let currentCategory = null;
    let currentSubcategory = null;
    let currentCommand = null;

    function init() {
      if (!state) {
        state = INITIAL_DATA;
        saveState();
      }
      renderHome();
    }

    function goBack() {
      if (currentView === 'detail') {
        showCommandList(currentSubcategory);
      } else if (currentView === 'commands') {
        showSubcategories(currentCategory);
      } else if (currentView === 'subcategories') {
        renderHome();
      }
    }

    function renderHome() {
      currentView = 'home';
      currentCategory = null;
      currentSubcategory = null;
      currentCommand = null;
      document.getElementById('page-title').textContent = 'üìò Guide Eos';
      const container = document.getElementById('home-view');
      container.innerHTML = '';
      state.categories.forEach(cat => {
        const div = document.createElement('div');
        div.className = 'category-item';
        div.innerHTML = `<h2 class="category-title">${cat.icon} ${cat.name}</h2>`;
        div.onclick = () => showSubcategories(cat.id);
        container.appendChild(div);
      });
      setActiveView('home-view');
    }

    function showSubcategories(catId) {
      currentView = 'subcategories';
      currentCategory = catId;
      currentSubcategory = null;
      currentCommand = null;
      const cat = state.categories.find(c => c.id === catId);
      document.getElementById('page-title').textContent = `${cat.icon} ${cat.name}`;
      const container = document.getElementById('subcategory-list');
      container.innerHTML = '';
      const subcats = state.subcategories.filter(sc => sc.parentId === catId);
      subcats.forEach(sc => {
        const div = document.createElement('div');
        div.className = 'subcategory-item';
        div.innerHTML = `<h3 class="subcategory-title">${sc.name}</h3>`;
        div.onclick = () => showCommandList(sc.id);
        container.appendChild(div);
      });
      setActiveView('subcategory-view');
    }

    function showCommandList(subcatId) {
      currentView = 'commands';
      currentSubcategory = subcatId;
      const container = document.getElementById('command-list');
      container.innerHTML = '';
      const addBtn = document.createElement('button');
      addBtn.className = 'back-btn';
      addBtn.textContent = '‚ûï Ajouter une commande';
      addBtn.onclick = () => openCommandModal(null, subcatId);
      container.appendChild(addBtn);
      const cmds = state.commands.filter(cmd => cmd.subcat === subcatId);
      cmds.forEach(cmd => {
        const div = document.createElement('div');
        div.className = 'command-item';
        div.innerHTML = `<h3 class="command-title">${cmd.action}</h3>`;
        div.onclick = () => showDetail(cmd.id);
        container.appendChild(div);
      });
      setActiveView('command-list-view');
    }

    function showDetail(cmdId) {
      currentView = 'detail';
      currentCommand = cmdId;
      const cmd = state.commands.find(c => c.id === cmdId);
      if (!cmd) return;
      const container = document.getElementById('command-detail');
      const syntaxHtml = cmd.syntaxes?.length ? cmd.syntaxes.map(s => 
        s.split('').map(c => {
          if (c === '[') return '<span class="key key-hard">[';
          if (c === ']') return ']</span>';
          if (c === '{') return '<span class="key key-soft">{';
          if (c === '}') return '}</span>';
          if (c === '<') return '<span class="key key-user">&lt;';
          if (c === '>') return '&gt;</span>';
          if (c === '¬´') return '<span class="key key-user">&laquo;';
          if (c === '¬ª') return '&raquo;</span>';
          return c;
        }).join('')
      ).join(' | ') : '';

      container.innerHTML = `
        <div class="detail-card">
          <h2>${cmd.action}</h2>
          <p>${cmd.description}</p>
          ${cmd.syntaxes?.length ? `<div class="syntax">${syntaxHtml}</div>` : ''}
          ${cmd.examples?.length ? `<div class="examples"><h4>Exemples :</h4><ul>${cmd.examples.map(e => '<li>'+e+'</li>').join('')}</ul></div>` : ''}
          ${cmd.tips?.length ? `<div class="tips"><h4>Conseils & subtilit√©s :</h4><ul>${cmd.tips.map(t => '<li>'+t+'</li>').join('')}</ul></div>` : ''}
          ${SYMBOL_LEGEND}
          <div class="action-buttons">
            <button onclick="openCommandModal('${cmd.id}')">‚úèÔ∏è √âditer</button>
            <button onclick="deleteCommand('${cmd.id}')">üóëÔ∏è Supprimer</button>
          </div>
        </div>
      `;
      setActiveView('detail-view');
    }

    function setActiveView(viewId) {
      document.querySelectorAll('.view').forEach(v => {
        v.classList.remove('active', 'slide-out');
      });
      setTimeout(() => {
        document.getElementById(viewId).classList.add('active');
      }, 10);
    }

    function openCommandModal(id, subcat) {
      const cmd = id ? state.commands.find(c => c.id === id) : null;
      document.getElementById('edit-id').value = id || '';
      document.getElementById('edit-subcat').value = subcat || (cmd ? cmd.subcat : '');
      document.getElementById('action-title').value = cmd ? cmd.action : '';
      document.getElementById('action-desc').value = cmd ? cmd.description : '';
      document.getElementById('action-syntax').value = cmd && cmd.syntaxes ? cmd.syntaxes.join(' | ') : '';
      document.getElementById('action-examples').value = cmd && cmd.examples ? cmd.examples.join('\n') : '';
      document.getElementById('action-tips').value = cmd && cmd.tips ? cmd.tips.join('\n') : '';
      document.getElementById('modal-title').textContent = cmd ? 'Modifier la commande' : 'Ajouter une commande';
      document.getElementById('command-modal').classList.add('active');
    }

    function deleteCommand(id) {
      if (confirm("Supprimer cette commande ?")) {
        state.commands = state.commands.filter(c => c.id !== id);
        saveState();
        showCommandList(currentSubcategory);
      }
    }

    function saveState() {
      localStorage.setItem('eos_guide_state', JSON.stringify(state));
    }

    function closeModal(id) {
      document.getElementById(id).classList.remove('active');
    }

    document.getElementById('add-category-btn').onclick = () => {
      document.getElementById('category-modal').classList.add('active');
    };

    document.getElementById('command-form').onsubmit = (e) => {
      e.preventDefault();
      const id = document.getElementById('edit-id').value || 'cmd_' + Date.now();
      const subcat = document.getElementById('edit-subcat').value;
      const action = document.getElementById('action-title').value.trim();
      const desc = document.getElementById('action-desc').value.trim();
      const syntaxes = document.getElementById('action-syntax').value.split('|').map(s => s.trim()).filter(s => s);
      const examples = document.getElementById('action-examples').value.split('\n').map(s => s.trim()).filter(s => s);
      const tips = document.getElementById('action-tips').value.split('\n').map(s => s.trim()).filter(s => s);

      if (!action || !desc || !subcat) return;

      if (id.startsWith('cmd_') || !state.commands.find(c => c.id === id)) {
        state.commands.push({ id, subcat, action, description: desc, syntaxes, examples, tips });
      } else {
        const idx = state.commands.findIndex(c => c.id === id);
        state.commands[idx] = { id, subcat, action, description: desc, syntaxes, examples, tips };
      }
      saveState();
      closeModal('command-modal');
      showCommandList(subcat);
    };

    document.getElementById('category-form').onsubmit = (e) => {
      e.preventDefault();
      const name = document.getElementById('new-category-name').value.trim();
      if (!name) return;
      const id = name.toLowerCase().replace(/[^a-z0-9]/g, '-');
      if (state.categories.find(c => c.id === id)) return;

      state.categories.push({ id, name, icon: "üìÅ" });
      state.subcategories.push(
        { id: `${id}-base`, name: "Base", parentId: id, type: 'base' },
        { id: `${id}-user`, name: "Utilisateur", parentId: id, type: 'user' }
      );
      saveState();
      closeModal('category-modal');
      renderHome();
    };

    window.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>